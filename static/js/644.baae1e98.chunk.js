"use strict";(self.webpackChunkgymtracker=self.webpackChunkgymtracker||[]).push([[644],{9868:(e,t,s)=>{s.d(t,{w:()=>d});var r=s(4e3),c=s(5578),a=(s(5043),s(4117));const i="CustomInput_inputWrapper__wz8SN",n="CustomInput_inputLabel__b-QWx",o="CustomInput_inputField__baNtE";var l=s(579);const d=e=>{let{name:t,text:s,type:d,placeholder:x,isRequired:u=!0,className:h,onChange:f,value:_}=e;const{t:g}=(0,a.Bd)();return(0,l.jsx)("div",{className:i,children:(0,l.jsx)(r.A.Item,{label:(0,l.jsx)("span",{className:n,children:g(s)}),name:t,rules:[{required:u}],children:(0,l.jsx)(c.A,{type:d,placeholder:x,className:"".concat(o," ").concat(h),allowClear:!0,onChange:e=>{const{value:t}=e.target;f&&f(t)},value:_,autoComplete:"username"})})})}},5556:(e,t,s)=>{s.d(t,{j:()=>i});var r=s(8732),c=s(2918),a=(s(5043),s(579));const i=e=>{let{open:t,onCancel:s,footer:i=null,children:n}=e;return(0,a.jsx)(r.Ay,{theme:{components:{Modal:{contentBg:"#141414",colorIcon:"lightgray",colorIconHover:"gray"}}},children:(0,a.jsx)(c.A,{open:t,onCancel:s,footer:i,style:{marginTop:"50px"},children:n})})}},1499:(e,t,s)=>{s.d(t,{B:()=>o});var r=s(1984),c=s(4117),a=s(5459);const i={descriptionTitle:"DescriptionTitle_descriptionTitle__E-lRw",start:"DescriptionTitle_start__FSu7h",center:"DescriptionTitle_center__eJvMJ",end:"DescriptionTitle_end__uV+MA"};var n=s(579);const o=e=>{let{text:t,textAlign:s="start",className:o}=e;const{t:l}=(0,c.Bd)(),{ref:d,controls:x}=(0,a.F)();return(0,n.jsx)(r.P.h2,{ref:d,className:"".concat(i.descriptionTitle," ").concat(i[s]," ").concat(o),initial:"hidden",animate:x,variants:a.l,children:l(t)})}},9752:(e,t,s)=>{s.d(t,{f:()=>a});s(5043);var r=s(579);const c={maxWidth:"1200px",margin:"0 auto"},a=e=>{let{children:t}=e;return(0,r.jsx)("div",{style:c,children:t})}},9525:(e,t,s)=>{s.d(t,{U:()=>i});s(5043);var r=s(7021);const c="ResetButton_reset__efwrw";var a=s(579);const i=e=>{let{onClick:t,children:s,icon:i}=e;return(0,a.jsx)(r.Ay,{className:c,onClick:t,icon:i,children:s})}},9589:(e,t,s)=>{s.d(t,{t:()=>n});s(5043);var r=s(1984),c=s(5459);const a="SubTitle_subTitle__6A8PN";var i=s(579);const n=e=>{let{children:t,className:s}=e;const{ref:n,controls:o}=(0,c.F)();return(0,i.jsx)(r.P.p,{ref:n,className:"".concat(a," ").concat(s),initial:"hidden",animate:o,variants:c.l,children:t})}},5459:(e,t,s)=>{s.d(t,{F:()=>i,l:()=>n});var r=s(9927),c=s(5246),a=s(5043);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;const i=(0,r.s)(),[n,o]=(0,c.Wx)({threshold:e,triggerOnce:t});return(0,a.useEffect)((()=>{o?i.start("visible"):i.start("hidden")}),[i,o]),{ref:n,controls:i,animationVariants:s}},n={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}}}},7644:(e,t,s)=>{s.r(t),s.d(t,{default:()=>se});var r=s(5043),c=s(3216),a=s(1499),i=s(9752),n=s(2481),o=s(9472),l=s(8354),d=s(8732),x=s(5743),u=s(3727),h=s(5337),f=s(682),_=s(3390),g=s(4117),m=s(3963),v=s(9589);const j="ExerciseTable_tableTitle__nWHV1",p="ExerciseTable_date__+kHp7",y="ExerciseTable_table__gqYvK",A="ExerciseTable_editableDiv__lnIPx",E="ExerciseTable_delete__rmsna",N="ExerciseTable_tableFooter__8lrF-",S="NumericInput_input__GI+NF";var k=s(579);const C=(e,t)=>{let{value:s,onChange:r,onBlur:c}=e;return(0,k.jsx)("input",{ref:t,value:s,onChange:e=>{const{value:t}=e.target;/^\d*$/.test(t)&&r(t)},onBlur:c,className:S})},w=(0,r.forwardRef)(C),T=()=>{const{t:e}=(0,g.Bd)(),[t,s]=(0,r.useState)([]),[c,a]=(0,r.useState)(null),[i,S]=(0,r.useState)(null),C=(0,r.useRef)(null),T=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e,t;c&&(null===(e=C.current)||void 0===e||e.focus());i&&(null===(t=T.current)||void 0===t||t.focus())}),[c,i]);const b=[{title:"".concat(e("set")),dataIndex:"set",sorter:(e,t)=>e.set-t.set,width:"30%"},{title:"".concat(e("weight")),dataIndex:"weight",width:"40%",render:(r,i)=>c===i.key?(0,k.jsx)(w,{ref:C,value:i.weight,onChange:e=>((e,r)=>{const c=t.map((t=>t.key===e?{...t,weight:r}:t));s(c)})(i.key,e),onBlur:()=>a(null)}):(0,k.jsx)("div",{onClick:()=>a(i.key),className:A,children:i.weight||e("clickToEdit")})},{title:"".concat(e("reps")),dataIndex:"reps",width:"30%",render:(r,c)=>i===c.key?(0,k.jsx)(w,{ref:T,value:c.reps,onChange:e=>((e,r)=>{const c=t.map((t=>t.key===e?{...t,reps:r}:t));s(c)})(c.key,e),onBlur:()=>S(null)}):(0,k.jsx)("div",{onClick:()=>S(c.key),className:A,children:c.reps||e("clickToEdit")})},{title:"",dataIndex:"icon",render:(t,s)=>(0,k.jsx)(n.A,{title:e("deleteRow"),children:(0,k.jsx)(u.A,{className:E,onClick:()=>F(s.key)})})}],F=e=>{const r=t.filter((t=>t.key!==e));s(r),a(null),S(null)},B=(new Date).toLocaleDateString();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l.A,{style:{backgroundColor:"gray"}}),(0,k.jsxs)("div",{className:j,children:[(0,k.jsx)(v.t,{children:"Bench press"}),(0,k.jsxs)("div",{className:p,children:[e("date"),B]})]}),(0,k.jsxs)(d.Ay,{theme:{components:{Table:{headerBg:"#1A1A1A",headerColor:"#ffffff",headerSortHoverBg:"#282828",bodySortBg:"#282828",cellFontSize:16,colorBgContainer:"#282828",colorText:"#ffffff",colorPrimary:"#ffffff",headerBorderRadius:0,rowHoverBg:"#464646",borderColor:"#535353",headerSplitColor:"#535353",headerSortActiveBg:"#282828"}}},children:[(0,k.jsx)(x.A,{columns:b,dataSource:t,pagination:!1,className:y,locale:{emptyText:()=>(0,k.jsx)(o.A,{image:o.A.PRESENTED_IMAGE_SIMPLE,description:(0,k.jsx)("span",{style:{color:"#ffffff"},children:e("noData")})})}}),(0,k.jsx)(m.S,{onClick:()=>{const e=[...t],r=e.length>0?e[e.length-1].set+1:1,c={key:r.toString(),weight:"",set:r,reps:"",icon:(0,k.jsx)(u.A,{})};e.push(c),s(e),a(c.key)},icon:(0,k.jsx)(h.A,{}),children:e("addRow")}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)(m.S,{icon:(0,k.jsx)(f.A,{}),children:e("previous")}),(0,k.jsx)(m.S,{icon:(0,k.jsx)(_.A,{}),children:e("save")})]})]})]})};var b=s(349),F=s(6569),B=s(6032),I=s(8895),D=s(1238),R=s(9868);const H="AddExercise_addExercise__7FNxa",U="AddExercise_button__mkO2c",P=e=>{let{onAddExercise:t,category:s}=e;const{t:c}=(0,g.Bd)(),[a,i]=(0,r.useState)("");return(0,k.jsxs)("div",{children:[(0,k.jsx)(v.t,{children:c("addAnExercise")}),(0,k.jsxs)("div",{className:H,children:[(0,k.jsx)(R.w,{value:a,onChange:e=>{i(e)},text:c("exerciseName"),placeholder:c("typeExercise")}),(0,k.jsx)(m.S,{className:U,icon:(0,k.jsx)(h.A,{}),onClick:async()=>{if(a)try{const e=(0,B.aU)(),r=(0,I.xI)().currentUser;if(r){const n=r.uid,o={id:(0,D.A)(),name:a,category:s,bestResult:0,isFavorite:!1},l=(0,B.H9)(e,"exercises",n),d=await(0,B.x7)(l);d.exists()?await(0,B.mZ)(l,{exercises:[...d.data().exercises,o]}):await(0,B.mZ)(l,{exercises:[o]}),F.Ay.success(c("exerciseAdded")),i(""),t()}else F.Ay.error(c("userNotAuthenticated"))}catch(e){F.Ay.error(c("errorAddingExercise"))}else b.Ay.error({message:c("typeExercise")})},children:c("addExerciseBtn")})]})]})};var M=s(3586),J=s(1966),W=s(1882),z=s(7261),G=s(5556),L=s(9525);const O="Exercises_title__ThgWQ",q="Exercises_cardTitle__tmJjS",V="Exercises_exercises__BEFnF",Z="Exercises_deleteIconBlock__wVkhJ",K="Exercises_favoriteIcon__BEv1g",Q="Exercises_deleteIcon__X1Kq5",Y="Exercises_confirm__DCCIL",X="Exercises_delete__ikuGj",$="Exercises_star__OY09M",ee="Exercises_active__8jdlH",te=e=>{let{category:t,updateTrigger:s}=e;const{t:c}=(0,g.Bd)(),[a,i]=(0,r.useState)([]),[l,x]=(0,r.useState)(!0),[h,f]=(0,r.useState)(!1),[_,m]=(0,r.useState)(!1),[j,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("exercisesData")||"[]");e.length>0&&(i(e),x(!1))}),[t]);const y=()=>m(!1),A=()=>{p(!0),m(!0)};return(0,r.useEffect)((()=>{(async()=>{x(!0);try{const e=(0,B.aU)(),s=(0,I.xI)().currentUser;if(s){const r=s.uid,a=(0,B.H9)(e,"exercises",r),n=await(0,B.x7)(a);if(n.exists()){const e=n.data(),s=c("categories.".concat(t)),r=e.exercises.filter((e=>c("categories.".concat(e.category))===s)).map((e=>({id:e.id,name:c(e.name),category:e.category,bestResult:"".concat(c("lastSet"),": ").concat(e.bestResult),isFavorite:e.isFavorite})));localStorage.setItem("exercisesData",JSON.stringify(r)),i(r)}else i([])}}catch(e){b.Ay.error({message:c("errorFetchingExercises")})}finally{x(!1)}})()}),[t,c,s]),(0,k.jsx)(k.Fragment,{children:l?(0,k.jsx)(z.a,{}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(v.t,{children:c("exercises"),className:O}),(0,k.jsx)(d.Ay,{theme:{components:{Card:{headerFontSize:20,headerBg:"#1a1a1a",colorTextHeading:"#ffffff",fontSize:16,colorBorderSecondary:"#535353"}}},children:(0,k.jsx)(M.A,{title:(0,k.jsxs)("span",{className:q,children:[" ",c("chooseExercise")]}),className:V,bordered:!1,children:a.length>0?a.map((e=>(0,k.jsxs)(M.A.Grid,{children:[(0,k.jsxs)("div",{className:Z,children:[(0,k.jsx)(n.A,{title:c("deleteExercise"),children:(0,k.jsx)(u.A,{className:Q,onClick:A})}),j&&(0,k.jsxs)(G.j,{open:_,onCancel:y,footer:!1,children:[(0,k.jsx)("p",{className:Y,children:c("confirmDeletingExercise")}),(0,k.jsx)("div",{className:X,children:(0,k.jsx)(L.U,{children:c("delete"),onClick:()=>(async e=>{x(!0);try{const s=(0,B.aU)(),r=(0,I.xI)().currentUser;if(r){const a=r.uid,n=(0,B.H9)(s,"exercises",a),o=await(0,B.x7)(n);if(o.exists()){const s=o.data();let r=[];if(s&&s.exercises){r=s.exercises.filter((t=>t.id!==e)),await(0,B.mZ)(n,{exercises:r}),F.Ay.success(c("exerciseDeleted"));const a=c("categories.".concat(t)),o=r.filter((e=>c("categories.".concat(e.category))===a));i(o)}}}p(!1)}catch(s){F.Ay.error(c("errorDeletingExercise"))}finally{x(!1)}})(e.id),icon:(0,k.jsx)(J.A,{})})})]})]}),e.name,(0,k.jsx)("div",{className:K,children:(0,k.jsx)(n.A,{title:c("addToFavorite"),children:(0,k.jsx)(W.A,{className:"".concat($," ").concat(e.isFavorite?ee:""),onClick:()=>(async(e,s)=>{try{const r=(0,B.aU)(),a=(0,I.xI)().currentUser;if(a){const n=a.uid,o=(0,B.H9)(r,"exercises",n),l=await(0,B.x7)(o);if(l.exists()){let r=l.data().exercises.map((t=>t.id===e?{...t,isFavorite:!s}:t));await(0,B.mZ)(o,{exercises:r});const a=c("categories.".concat(t)),n=r.filter((e=>c("categories.".concat(e.category))===a));i(n)}s?F.Ay.success(c("addedToFavorite")):F.Ay.success(c("removedFromFavorite")),f(!h)}}catch(r){F.Ay.error(c("errorUpdatingFavorite"))}})(e.id,e.isFavorite)})})})]},e.id))):(0,k.jsx)(o.A,{image:o.A.PRESENTED_IMAGE_SIMPLE,description:(0,k.jsx)("span",{style:{color:"#ffffff"},children:c("noData")})})})})]})})},se=()=>{const e=(0,c.zy)().state,[t,s]=(0,r.useState)(0);(0,r.useEffect)((()=>{window.scroll(0,0)}),[]);return(0,k.jsxs)(i.f,{children:[(0,k.jsx)(a.B,{text:null===e||void 0===e?void 0:e.title,textAlign:"center"}),(0,k.jsx)(P,{category:null===e||void 0===e?void 0:e.title,onAddExercise:()=>{s((e=>e+1))}}),(0,k.jsx)(te,{category:null===e||void 0===e?void 0:e.title,updateTrigger:t}),(0,k.jsx)(T,{})]})}}}]);
//# sourceMappingURL=644.baae1e98.chunk.js.map