"use strict";(self.webpackChunkgymtracker=self.webpackChunkgymtracker||[]).push([[173],{1907:(e,t,s)=>{s.d(t,{V:()=>u});var n=s(1210),a=s(8732),r=s(5670),c=(s(5043),s(446)),o=s.n(c),i=s(4117);const l="Calendar_dateField__6KRfc";var d=s(579);const u=e=>{let{className:t,value:s,onChange:c}=e;const{t:u}=(0,i.Bd)();return(0,d.jsx)(a.Ay,{theme:{components:{DatePicker:{colorBgContainer:"#141414",colorFillSecondary:"#141414",colorTextPlaceholder:"#818181",colorBgElevated:"#141414",colorTextHeading:"#ffffff",colorText:"#ffffff",colorIcon:"#ffffff",colorIconHover:"#0097b2",colorPrimary:"#0097b2"}}},children:(0,d.jsx)(r.A,{format:{format:"YYYY-MM-DD",type:"mask"},showNow:!1,className:"".concat(l," ").concat(t),value:s?o()(s):null,placeholder:u("selectDate"),suffixIcon:(0,d.jsx)(n.A,{}),disabledDate:e=>e&&e>=o()().endOf("day"),onChange:e=>{c&&e&&c(e.toDate())}})})}},1159:(e,t,s)=>{s.d(t,{b:()=>u});s(5043);var n=s(4434),a=s(4e3),r=s(8732),c=s(4117);const o="CountrySelect_inputLabel__AXgWo",i="CountrySelect_selectField__JiAr6";var l=s(579);const{Option:d}=n.A,u=e=>{let{country:t,handleCountryChange:s,filterOptions:u,filteredCountries:x}=e;const{t:h}=(0,c.Bd)();return(0,l.jsx)(a.A.Item,{name:"country",label:(0,l.jsx)("span",{className:o,children:h("country")}),rules:[{required:!1}],children:(0,l.jsx)(r.Ay,{theme:{components:{Select:{colorTextPlaceholder:"#818181",colorText:"#ffffff",optionSelectedBg:"#404040",optionActiveBg:"#404040"}}},children:(0,l.jsx)(n.A,{placeholder:h("enterCountry"),className:i,value:t,onChange:s,variant:"borderless",dropdownStyle:{backgroundColor:"#282828"},showSearch:!0,allowClear:!0,filterOption:!1,onSearch:u,children:x.map((e=>(0,l.jsx)(d,{value:e.label,children:e.label},e.value)))})})})}},9868:(e,t,s)=>{s.d(t,{w:()=>d});var n=s(4e3),a=s(5578),r=(s(5043),s(4117));const c="CustomInput_inputWrapper__wz8SN",o="CustomInput_inputLabel__b-QWx",i="CustomInput_inputField__baNtE";var l=s(579);const d=e=>{let{name:t,text:s,type:d,placeholder:u,isRequired:x=!0,className:h,onChange:m,value:j}=e;const{t:_}=(0,r.Bd)();return(0,l.jsx)("div",{className:c,children:(0,l.jsx)(n.A.Item,{label:(0,l.jsx)("span",{className:o,children:_(s)}),name:t,rules:[{required:x}],children:(0,l.jsx)(a.A,{type:d,placeholder:u,className:"".concat(i," ").concat(h),allowClear:!0,onChange:e=>{const{value:t}=e.target;m&&m(t)},value:j,autoComplete:"off"})})})}},5556:(e,t,s)=>{s.d(t,{j:()=>c});var n=s(8732),a=s(2918),r=(s(5043),s(579));const c=e=>{let{open:t,onCancel:s,footer:c=null,children:o}=e;return(0,r.jsx)(n.Ay,{theme:{components:{Modal:{contentBg:"#141414",colorIcon:"lightgray",colorIconHover:"gray"}}},children:(0,r.jsx)(a.A,{open:t,onCancel:s,footer:c,style:{marginTop:"50px"},children:o})})}},5369:(e,t,s)=>{s.d(t,{V:()=>l});s(5043);var n=s(4117);const a="Hexagon_wrapper__orCOo",r="Hexagon_hexagon__Lz5zU",c="Hexagon_imageContainer__CcV75",o="Hexagon_imageText__dxduD";var i=s(579);const l=e=>{let{text:t,className:s,onClick:l}=e;const{t:d}=(0,n.Bd)();return(0,i.jsx)("div",{className:a,children:(0,i.jsxs)("div",{className:c,onClick:l,children:[(0,i.jsx)("img",{src:"/GymTracker/assets/Icons/Hexagon/Hexagon.svg",alt:"Hexagon",className:r}),(0,i.jsx)("span",{className:"".concat(o," ").concat(s),children:d(t)})]})})}},9752:(e,t,s)=>{s.d(t,{f:()=>r});s(5043);var n=s(579);const a={maxWidth:"1200px",margin:"0 auto"},r=e=>{let{children:t}=e;return(0,n.jsx)("div",{style:a,children:t})}},9525:(e,t,s)=>{s.d(t,{U:()=>c});s(5043);var n=s(7021);const a="ResetButton_reset__efwrw";var r=s(579);const c=e=>{let{onClick:t,children:s,icon:c}=e;return(0,r.jsx)(n.Ay,{className:a,onClick:t,icon:c,children:s})}},8204:(e,t,s)=>{s.d(t,{D:()=>c});var n=s(7021);s(5043);const a="SettingButton_btn__TNlVz";var r=s(579);const c=e=>{let{onClick:t,icon:s,children:c,className:o}=e;return(0,r.jsx)(n.Ay,{onClick:t,icon:s,className:"".concat(a," ").concat(o),children:c})}},9589:(e,t,s)=>{s.d(t,{t:()=>o});s(5043);var n=s(1984),a=s(5459);const r="SubTitle_subTitle__6A8PN";var c=s(579);const o=e=>{let{children:t,className:s}=e;const{ref:o,controls:i}=(0,a.F)();return(0,c.jsx)(n.P.p,{ref:o,className:"".concat(r," ").concat(s),initial:"hidden",animate:i,variants:a.l,children:t})}},5459:(e,t,s)=>{s.d(t,{F:()=>c,l:()=>o});var n=s(9927),a=s(5246),r=s(5043);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;const c=(0,n.s)(),[o,i]=(0,a.Wx)({threshold:e,triggerOnce:t});return(0,r.useEffect)((()=>{i?c.start("visible"):c.start("hidden")}),[c,i]),{ref:o,controls:c,animationVariants:s}},o={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}}}},1173:(e,t,s)=>{s.r(t),s.d(t,{default:()=>rt});var n=s(5043),a=s(9752),r=s(3216),c=s(4117),o=s(1984),i=s(5369),l=s(9589),d=s(5459);const u="Diary_diaryWrapper__9yUZ1",x="Diary_info__8CHt1",h="Diary_hexagonWrapper__E3ely",m="Diary_link__ir1Va";var j=s(579);const _=e=>{let{text:t}=e;const s=(0,r.Zp)();return(0,j.jsx)("div",{className:m,children:(0,j.jsx)(i.V,{text:t,onClick:()=>{s("/workout",{state:{title:t}})}})})},f=()=>{const{t:e}=(0,c.Bd)(),{ref:t,controls:s}=(0,d.F)(),n={Hands:e("Hands"),Shoulders:e("Shoulders"),Chest:e("Chest"),Back:e("Back"),Legs:e("Legs")};return(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(l.t,{children:e("trainingDiary")}),(0,j.jsx)(o.P.div,{ref:t,className:x,initial:"hidden",animate:s,variants:d.l,children:e("diaryChoose")}),(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)(_,{text:n.Hands}),(0,j.jsx)(_,{text:n.Shoulders}),(0,j.jsx)(_,{text:n.Chest}),(0,j.jsx)(_,{text:n.Back}),(0,j.jsx)(_,{text:n.Legs})]})]})};var p=s(5534),v=s(2019),g=s(9525),y=s(5578),C=s(5037),N=s(5337),w=s(1666),A=s(3963);const I="InputContainer_calculator__NooKn",b="InputContainer_subtitle__aQtDa",U="InputContainer_block__5jT5w",k="InputContainer_weight__Kz7j6",E="InputContainer_reps__IIpj2",D="InputContainer_repsNumber__UegEo",S="InputContainer_plusMinus__xGDVC",R="InputContainer_calculate__EZUfU",B=e=>{let{inputValue:t,reps:s,setReps:n,setResult:a,setInputValue:r,weight:o,setWeight:i}=e;const{t:l}=(0,c.Bd)(),[d,u]=v.Ay.useMessage();return(0,j.jsxs)("div",{className:I,children:[u,(0,j.jsxs)("div",{className:U,children:[(0,j.jsx)("div",{className:b,children:l("workingWeight")}),(0,j.jsx)(y.A,{className:k,allowClear:!0,placeholder:l("weightKg"),value:t,type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onChange:e=>{let t=e.target.value;t=t.replace(",","."),/^\d*\.?\d?$/.test(t)&&(r(t),i(""===t?0:parseFloat(t)))}})]}),(0,j.jsxs)("div",{className:U,children:[(0,j.jsx)("div",{className:b,children:l("repsNumber")}),(0,j.jsxs)("div",{className:E,children:[(0,j.jsx)("button",{className:S,onClick:()=>{s>1&&n(s-1)},children:(0,j.jsx)(C.A,{})}),(0,j.jsx)("div",{className:D,children:s}),(0,j.jsx)("button",{className:S,onClick:()=>{s<15&&n(s+1)},children:(0,j.jsx)(N.A,{})})]})]}),(0,j.jsx)(A.S,{children:l("calculate"),className:R,onClick:()=>{t.trim()||d.open({type:"error",content:l("enterWorkingWeight")});const e=o*(36/(37-s)),n=((Number(o*s/30+o)+Number(e))/2).toFixed(1);a(Number(n))},icon:(0,j.jsx)(w.A,{})})]})},F="Calculator_header__xoH1S",P="Calculator_info__-wCtb",H="Calculator_container__kROfH",M="Calculator_result__Avxlt",O="Calculator_resultWeight__E5PuC",T=()=>{const{t:e}=(0,c.Bd)(),[t,s]=v.Ay.useMessage(),{ref:a,controls:r}=(0,d.F)(),[i,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(1),[m,_]=(0,n.useState)(0),[f,y]=(0,n.useState)(0);return(0,j.jsxs)(j.Fragment,{children:[s,(0,j.jsx)(l.t,{children:e("weightCalculator"),className:F}),(0,j.jsx)(o.P.div,{ref:a,className:P,initial:"hidden",animate:r,variants:d.l,children:e("indicateWeightAndReps")}),(0,j.jsxs)("div",{className:H,children:[(0,j.jsx)(B,{inputValue:i,reps:x,setReps:h,setResult:_,setInputValue:u,weight:f,setWeight:y}),(0,j.jsx)("div",{className:M,children:e("calcResult")}),(0,j.jsxs)("div",{className:O,children:[m," ",e("kg")]}),(0,j.jsx)(g.U,{children:e("reset"),onClick:()=>{u(""),h(1),_(0),y(0),t.open({type:"success",content:e("reseted")})},icon:(0,j.jsx)(p.A,{})})]})]})};var W=s(8354),L=s(7407),q=s(538),V=s(6032),K=s(8895),z=s(8217);const G=(0,n.createContext)(void 0),Y=()=>{const e=(0,n.useContext)(G);if(!e)throw new Error("useUserContext must be used within a UserProvider");return e},Z=e=>{let{children:t}=e;return(0,j.jsx)(G.Provider,{value:{updateUserData:async e=>{try{const t=(0,K.xI)().currentUser;if(t){const s=(0,V.aU)();await(0,V.BN)((0,V.H9)(s,"users",t.uid),e,{merge:!0})}}catch(t){throw new Error("Failed to update user data")}}},children:t})};var X=s(8204);const J={mainContainer:"Information_mainContainer__RREUw",infoContainer:"Information_infoContainer__dNCgg",buttons:"Information_buttons__Lia4r"};var Q=s(9472),$=s(7261);const ee="FavoriteExercises_exercises__3MEPO";var te=s(7326),se=s(3727),ne=s(9905),ae=s(1966),re=s(5556);const ce="ExerciseItem_collapse__BTFkI",oe="ExerciseItem_settings__REDEY",ie="ExerciseItem_confirm__2sw1d",le="ExerciseItem_delete__jG8q+",de="ExerciseItem_btn__UO2gU",ue="ExerciseItem_resultTitle__a5UZw",xe="ExerciseItem_bestResult__dnqvq",he=e=>{let{item:t,onDelete:s}=e;const{t:a}=(0,c.Bd)(),[r,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),d=[{key:"1",label:(0,j.jsx)("p",{children:t.name}),children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:ue,children:a("bestResult")}),(0,j.jsxs)("div",{className:xe,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:a("bestResultWeight")}),(0,j.jsxs)("div",{children:[t.bestResult," ",a("kg")]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:a("bestResultReps")}),(0,j.jsx)("div",{children:t.bestResult})]})]}),(0,j.jsx)("div",{className:oe,children:(0,j.jsx)(X.D,{icon:(0,j.jsx)(se.A,{}),onClick:()=>{o(!0),l(!0)},className:de,children:(0,j.jsx)("span",{children:a("delete")})})})]})}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(te.A,{bordered:!1,expandIcon:e=>{let{isActive:t}=e;return(0,j.jsx)(ne.A,{rotate:t?90:0})},className:ce,items:d},t.id),r&&(0,j.jsxs)(re.j,{open:i,onCancel:()=>l(!1),footer:!1,children:[(0,j.jsx)("p",{className:ie,children:a("confirmDeletingFromFavorite")}),(0,j.jsx)("div",{className:le,children:(0,j.jsx)(g.U,{children:a("delete"),onClick:async()=>{s(t.id),l(!1)},icon:(0,j.jsx)(ae.A,{})})})]})]})},me=()=>{const{t:e}=(0,c.Bd)(),[t,s]=v.Ay.useMessage(),[a,r]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0);(0,n.useEffect)((()=>{const s=(0,K.xI)(),n=(0,K.hg)(s,(s=>{s?(async s=>{i(!0);try{const t=(0,V.H9)((0,V.aU)(),"exercises",s.uid),n=await(0,V.x7)(t);if(n.exists()){const t=n.data().exercises.filter((e=>e.isFavorite)).map((t=>({id:t.id,name:e(t.name),bestResult:t.bestResult})));r(t),i(!1)}}catch(n){t.open({type:"error",content:e("errorFetchingFavoriteExercises")})}})(s):i(!1)}));return()=>n()}),[e]);const d=async s=>{try{const n=(0,K.xI)().currentUser;if(n){const a=(0,V.H9)((0,V.aU)(),"exercises",n.uid),c=await(0,V.x7)(a);if(c.exists()){const n=c.data().exercises.map((e=>e.id===s?{...e,isFavorite:!1}:e));await(0,V.mZ)(a,{exercises:n});const o=n.filter((e=>e.isFavorite));r(o),t.open({type:"success",content:e("removedFromFavorite")})}}}catch(n){t.open({type:"error",content:e("errorUpdatingFavorite")})}};return(0,j.jsxs)(j.Fragment,{children:[s,o?(0,j.jsx)($.a,{}):a.length>0?(0,j.jsxs)("div",{className:ee,children:[(0,j.jsx)(l.t,{children:e("favoriteExercises")}),a.map((e=>(0,j.jsx)(he,{item:e,onDelete:d},e.id)))]}):(0,j.jsxs)("div",{className:ee,children:[(0,j.jsx)(l.t,{children:e("favoriteExercises")}),(0,j.jsx)(Q.A,{image:Q.A.PRESENTED_IMAGE_SIMPLE,description:(0,j.jsx)("span",{style:{color:"#ffffff"},children:e("noData")})})]})]})};var je=s(3722),_e=s(2156),fe=s(1210);const pe="UserInfo_personalInformation__zvosi",ve="UserInfo_userInfo__Ujxpu",ge="UserInfo_icon__AkyUD",ye=()=>{const{t:e}=(0,c.Bd)(),{updateUserData:t}=Y(),[s,a]=(0,n.useState)(null),r=(0,K.xI)();(0,n.useEffect)((()=>{const e=async e=>{if(e){const t=await o(e.uid);a(t)}else a(null)},t=(0,K.hg)(r,e);return e(r.currentUser),()=>t()}),[t]);const o=async e=>{try{const t=(0,V.H9)((0,V.aU)(),"users",e),s=await(0,V.x7)(t);return s.exists()?s.data():null}catch(t){return null}};return s?(0,j.jsx)("div",{className:pe,children:(0,j.jsx)("div",{className:ve,children:(0,j.jsxs)("ul",{children:[(0,j.jsxs)("li",{children:[(0,j.jsx)(je.A,{className:ge}),s.firstName," ",s.lastName]}),(0,j.jsxs)("li",{children:[(0,j.jsx)(_e.A,{className:ge}),s.location.country,", ",s.location.city]}),(0,j.jsxs)("li",{children:[(0,j.jsx)(fe.A,{className:ge}),e("age"),": ",s.age]})]})})}):(0,j.jsx)("div",{className:pe})};var Ce=s(2144),Ne=s(4524),we=s(6036),Ae=s(2245),Ie=s(2536),be=s(7021),Ue=s(8147);const ke="ProfileAvatar_avatar__pl3TS",Ee="ProfileAvatar_settingIcon__4yVlY",De="ProfileAvatar_avatarIcons__7ClMJ",Se=()=>{const{t:e}=(0,c.Bd)(),[t,s]=v.Ay.useMessage(),[a,r]=(0,n.useState)(window.innerWidth),[o,i]=(0,n.useState)(""),l=a<=768?150:250,d=(0,K.xI)(),u=(0,Ue.c7)();(0,n.useEffect)((()=>{const e=()=>{r(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,n.useEffect)((()=>{const e=d.currentUser;if(e){const t=(0,Ue.KR)(u,"avatar/".concat(e.uid));(0,Ue.qk)(t).then((e=>{i(e)})).catch((e=>{console.error("Error fetching avatar URL:",e),i("")}))}}),[d.currentUser]);const x=[{key:"1",label:(0,j.jsxs)("div",{children:[(0,j.jsx)(Ce.A,{className:De}),(0,j.jsx)(we.A,{showUploadList:!1,beforeUpload:s=>((async s=>{const n=d.currentUser;if(n){const r=(0,Ue.KR)(u,"avatar/".concat(n.uid));try{await(0,Ue.D)(r,s);const n=await(0,Ue.qk)(r);i(n),t.open({type:"success",content:e("profilePhotoUpdated")})}catch(a){t.open({type:"error",content:e("uploadFailed")})}}})(s),!1),children:(0,j.jsx)("span",{children:e("uploadNewProfilePhoto")})})]})},{key:"2",label:(0,j.jsxs)("div",{onClick:async()=>{const s=d.currentUser;if(s){const a=(0,Ue.KR)(u,"avatar/".concat(s.uid));try{await(0,Ue.XR)(a),i(""),t.open({type:"success",content:e("profilePhotoDeleted")})}catch(n){t.open({type:"error",content:e("deleteFailed")})}}},children:[(0,j.jsx)(se.A,{className:De}),(0,j.jsx)("span",{children:e("deleteProfilePhoto")})]})}];return(0,j.jsxs)("div",{className:ke,children:[s,o?(0,j.jsx)("img",{src:o,alt:"Profile",style:{width:l,height:l,borderRadius:"50%"}}):(0,j.jsx)(Ae.A,{size:l,icon:(0,j.jsx)(je.A,{})}),(0,j.jsx)(Ie.A,{menu:{items:x},arrow:!0,children:(0,j.jsx)(be.Ay,{icon:(0,j.jsx)(Ne.A,{}),className:Ee,size:"middle"})})]})};var Re=s(7515);const Be="CoverImage_paper__-W7jp",Fe="CoverImage_paperPlaceholder__pThdA",Pe="CoverImage_uploadCoverImage__8Ag1k",He="CoverImage_editBtn__lvKi2",Me="CoverImage_buttonText__GOqMz",Oe=()=>{const{t:e}=(0,c.Bd)(),[t,s]=v.Ay.useMessage(),[a,r]=(0,n.useState)("");(0,n.useEffect)((()=>{const e=z.j2.currentUser;if(e){const t=(0,Ue.KR)(z.IG,"cover/".concat(e.uid));(0,Ue.qk)(t).then((e=>{r(e)})).catch((e=>{console.error("Error fetching avatar URL:",e),r("")}))}}),[z.j2.currentUser]);return(0,j.jsxs)("div",{className:Be,children:[s,a?(0,j.jsx)("img",{src:a,alt:"Paper"}):(0,j.jsx)("div",{className:Fe}),(0,j.jsx)(we.A,{showUploadList:!1,beforeUpload:s=>((async s=>{const n=z.j2.currentUser;if(n){const c=(0,Ue.KR)(z.IG,"cover/".concat(n.uid));try{await(0,Ue.D)(c,s);const n=await(0,Ue.qk)(c);r(n),t.open({type:"success",content:e("coverImageUploaded")})}catch(a){t.open({type:"error",content:e("uploadFailed")})}}})(s),!1),className:Pe,children:(0,j.jsx)(X.D,{icon:(0,j.jsx)(Re.A,{}),className:He,children:(0,j.jsx)("span",{className:Me,children:e("uploadCoverImage")})})})]})};var Te=s(8732),We=s(2918);const Le="EditProfile_modal__qlf-E",qe="EditProfile_info__9cZNX",Ve="EditProfile_inputLabel__rehxk";var Ke=s(4e3),ze=s(7843),Ge=s.n(ze),Ye=s(9868),Ze=s(1907),Xe=s(1159),Je=s(1713);const Qe=Ge()().getData(),$e=e=>{let{onClose:t,setIsModalOpen:s}=e;const{t:a}=(0,c.Bd)(),[r,o]=v.Ay.useMessage(),[i]=Ke.A.useForm(),{updateUserData:l}=Y(),[d,u]=(0,n.useState)(Qe),[x,h]=(0,n.useState)(""),[m,_]=(0,n.useState)(""),[f,g]=(0,n.useState)(void 0),[y,C]=(0,n.useState)(""),[N,w]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async()=>{const e=(0,K.xI)().currentUser;if(e){const t=await(0,V.x7)((0,V.H9)((0,V.aU)(),"users",e.uid));if(t.exists()){const e=t.data();h(e.firstName),_(e.lastName),g(e.location.country),C(e.location.city),w(e.dateOfBirth.toDate()),i.setFieldsValue({firstName:e.firstName,lastName:e.lastName,country:e.location.country,city:e.location.city,dateOfBirth:e.dateOfBirth.toDate()})}}})()}),[i]);return(0,j.jsxs)(Ke.A,{layout:"vertical",form:i,initialValues:{remember:!0},name:"editProfileForm",children:[o,(0,j.jsxs)("div",{className:Le,children:[(0,j.jsx)(Ye.w,{name:"firstName",text:a("firstName"),placeholder:a("enterFirstName"),isRequired:!1,value:x,onChange:e=>h(e)}),(0,j.jsx)(Ye.w,{name:"lastName",text:a("lastName"),placeholder:a("enterLastName"),isRequired:!1,value:m,onChange:e=>_(e)}),(0,j.jsx)(Xe.b,{country:f,handleCountryChange:e=>g(e),filterOptions:e=>{const t=Qe.filter((t=>t.label.toLowerCase().startsWith(e.toLowerCase())));u(t.length>0?t:Qe)},filteredCountries:d}),(0,j.jsx)(Ye.w,{name:"city",text:a("city"),placeholder:a("enterCity"),isRequired:!1,value:y,onChange:e=>C(e)}),(0,j.jsx)(Ke.A.Item,{name:"dateOfBirth",rules:[{required:!1}],label:(0,j.jsx)("span",{className:Ve,children:a("dateOfBirth")}),children:(0,j.jsx)(Ze.V,{value:N||null,onChange:e=>w(e)})}),(0,j.jsx)(A.S,{onClick:async()=>{const e=(0,K.xI)().currentUser;if(e&&N)try{const n=(0,Je.C)(N);await(0,V.BN)((0,V.H9)((0,V.aU)(),"users",e.uid),{firstName:x,lastName:m,location:{country:f,city:y},dateOfBirth:N.toISOString().split("T")[0],age:n},{merge:!0}),await l({firstName:x,lastName:m,location:{country:f,city:y},dateOfBirth:N,age:n}),s(!1),t(),r.open({type:"success",content:a("profileInformationUpdated")})}catch(n){r.open({type:"error",content:a("profileInformationUpdateFailed")})}},icon:(0,j.jsx)(p.A,{}),children:a("update")})]})]})},et=e=>{let{onClose:t}=e;const{t:s}=(0,c.Bd)(),{ref:a,controls:r}=(0,d.F)(),[i,l]=(0,n.useState)(!0);return(0,j.jsx)(Te.Ay,{theme:{components:{Modal:{contentBg:"#141414",colorIcon:"lightgray",colorIconHover:"gray"}}},children:(0,j.jsxs)(We.A,{open:i,onCancel:()=>{l(!1),t()},footer:null,children:[(0,j.jsx)(o.P.div,{ref:a,className:qe,initial:"hidden",animate:r,variants:d.l,children:s("editInfo")}),(0,j.jsx)($e,{setIsModalOpen:l,onClose:t})]})})},tt="ConfirmDeleteAccount_confirm__DM-g4",st="ConfirmDeleteAccount_delete__4Ns68",nt=e=>{let{confirm:t,setConfirm:s}=e;const{t:n}=(0,c.Bd)(),[a,o]=v.Ay.useMessage(),i=(0,r.Zp)();return(0,j.jsxs)(re.j,{open:t,onCancel:()=>s(!1),children:[o,(0,j.jsx)("p",{className:tt,children:n("confirmDeletingAccount")}),(0,j.jsx)("div",{className:st,children:(0,j.jsx)(g.U,{children:n("delete"),onClick:async()=>{const e=(0,K.xI)().currentUser;if(e)try{const t=(0,V.aU)(),s=(0,Ue.c7)();await(0,V.kd)((0,V.H9)(t,"users",e.uid)),await(0,V.kd)((0,V.H9)(t,"exercises",e.uid));const r=(0,Ue.KR)(s,"avatar/".concat(e.uid)),c=(0,Ue.KR)(s,"cover/".concat(e.uid));await(0,Ue.XR)(r).catch((e=>{if("storage/object-not-found"!==e.code)throw e})),await(0,Ue.XR)(c).catch((e=>{if("storage/object-not-found"!==e.code)throw e})),await(0,K.hG)(e),i("/main"),a.open({type:"success",content:n("accountDeleted")})}catch(t){alert("error")}},icon:(0,j.jsx)(ae.A,{})})})]})},at=()=>{const{t:e}=(0,c.Bd)(),[t,s]=(0,n.useState)(!1),[,a]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=(0,K.hg)(z.j2,(e=>{e&&i(e)}));return()=>e()}),[]);const i=async e=>{const t=(0,V.H9)(z.db,"users",e.uid),s=await(0,V.x7)(t);if(s.exists()){const e=s.data();a(e)}};return(0,j.jsxs)(Z,{children:[(0,j.jsxs)("div",{className:J.mainContainer,children:[(0,j.jsx)(Oe,{}),(0,j.jsx)(Se,{})]}),(0,j.jsxs)("div",{className:J.infoContainer,children:[(0,j.jsx)(ye,{}),(0,j.jsx)(me,{})]}),(0,j.jsxs)("div",{className:J.buttons,children:[(0,j.jsx)(X.D,{icon:(0,j.jsx)(L.A,{}),onClick:()=>s(!0),className:J.btn,children:(0,j.jsx)("span",{children:e("editProfile")})}),(0,j.jsx)(X.D,{icon:(0,j.jsx)(q.A,{}),onClick:()=>o(!0),className:J.btn,children:(0,j.jsx)("span",{children:e("deleteAccount")})})]}),(0,j.jsx)(W.A,{style:{backgroundColor:"gray"}}),t&&(0,j.jsx)(et,{onClose:()=>s(!1)}),r&&(0,j.jsx)(nt,{confirm:r,setConfirm:o})]})},rt=()=>((0,n.useEffect)((()=>{window.scroll(0,0)}),[]),(0,j.jsxs)(a.f,{children:[(0,j.jsx)(at,{}),(0,j.jsx)(f,{}),(0,j.jsx)(T,{})]}))},1713:(e,t,s)=>{s.d(t,{C:()=>n});const n=e=>{if(null===e)return 0;const t=new Date,s=new Date(e);let n=t.getFullYear()-s.getFullYear();const a=t.getMonth()-s.getMonth();return(a<0||0===a&&t.getDate()<s.getDate())&&n--,n}}}]);
//# sourceMappingURL=173.b5fd37bf.chunk.js.map