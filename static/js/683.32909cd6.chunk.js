/*! For license information please see 683.32909cd6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgymtracker=self.webpackChunkgymtracker||[]).push([[683],{1907:(e,t,s)=>{s.d(t,{V:()=>x});var a=s(1210),n=s(8732),r=s(5670),l=(s(5043),s(446)),i=s.n(l),o=s(4117),c=s(1984),d=s(5459);const u="Calendar_dateField__6KRfc";var h=s(579);const x=e=>{let{className:t,value:s,onChange:l,disabledDate:x}=e;const{ref:m,controls:g}=(0,d.F)(),{t:v}=(0,o.Bd)();return(0,h.jsxs)(c.P.div,{ref:m,initial:"hidden",animate:g,variants:d.l,children:[(0,h.jsx)(n.Ay,{theme:{components:{DatePicker:{colorBgContainer:"#141414",colorFillSecondary:"#141414",colorTextPlaceholder:"#818181",colorBgElevated:"#141414",colorTextHeading:"#ffffff",colorText:"#ffffff",colorIcon:"#ffffff",colorIconHover:"#0097b2",colorPrimary:"#0097b2"}}},children:(0,h.jsx)(r.A,{format:{format:"DD.MM.YYYY",type:"mask"},showNow:!1,className:`${u} ${t}`,value:s?i()(s):null,placeholder:v("selectDate"),suffixIcon:(0,h.jsx)(a.A,{}),onChange:e=>{l&&e&&l(e.toDate())},disabledDate:x})})," "]})}},6058:(e,t,s)=>{s.d(t,{n:()=>o});var a=s(2019),n=s(3727);const r="ClosableMessage_customMessage__I89Df",l="ClosableMessage_closeIcon__M7QGN";var i=s(579);const o=e=>{let{type:t,content:s}=e;const o="closable-message";a.Ay[t]({key:o,content:(0,i.jsxs)(i.Fragment,{children:[s,(0,i.jsx)(n.A,{onClick:()=>a.Ay.destroy(o),className:l})]}),className:r})}},8161:(e,t,s)=>{s.d(t,{B:()=>h});s(5043);var a=s(3727),n=s(1966),r=s(4117),l=s(5556),i=s(9525),o=s(3963);const c="ConfirmDeleteModal_title__kgkq+",d="ConfirmDeleteModal_buttons__T8jan";var u=s(579);const h=e=>{let{text:t,onClick:s,isModalOpen:h,handleCancel:x}=e;const{t:m}=(0,r.Bd)();return(0,u.jsxs)(l.j,{open:h,onCancel:x,footer:!1,isModalOpen:h,children:[(0,u.jsx)("p",{className:c,children:t}),(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)(o.S,{icon:(0,u.jsx)(a.A,{}),onClick:x,children:m("close")}),(0,u.jsx)(i.U,{children:m("delete"),onClick:s,icon:(0,u.jsx)(n.A,{})})]})]})}},1159:(e,t,s)=>{s.d(t,{b:()=>x});s(5043);var a=s(4434),n=s(8732),r=s(4e3),l=s(4117),i=s(1984),o=s(5459);const c="CountrySelect_inputLabel__AXgWo",d="CountrySelect_selectField__JiAr6";var u=s(579);const{Option:h}=a.A,x=e=>{let{country:t,handleCountryChange:s,filterOptions:x,filteredCountries:m,isRequired:g}=e;const{ref:v,controls:_}=(0,o.F)(),{t:f}=(0,l.Bd)();return(0,u.jsx)(i.P.div,{ref:v,initial:"hidden",animate:_,variants:o.l,children:(0,u.jsx)(n.Ay,{theme:{components:{Select:{colorTextPlaceholder:"#818181",colorText:"#ffffff",optionSelectedBg:"#404040",optionActiveBg:"#404040"}}},children:(0,u.jsx)(r.A.Item,{name:"country",label:(0,u.jsx)("span",{className:c,children:f("country")}),rules:[{required:g}],children:(0,u.jsx)(a.A,{placeholder:f("enterCountry"),className:d,value:t,onChange:s,variant:"borderless",dropdownStyle:{backgroundColor:"#282828"},showSearch:!0,allowClear:!0,filterOption:!1,onSearch:x,children:m.map((e=>(0,u.jsx)(h,{value:e.label,children:e.label},e.value)))})})})})}},9868:(e,t,s)=>{s.d(t,{w:()=>h});var a=s(4e3),n=s(5578),r=(s(5043),s(4117)),l=s(1984),i=s(5459);const o="CustomInput_inputWrapper__wz8SN",c="CustomInput_inputLabel__b-QWx",d="CustomInput_inputField__baNtE";var u=s(579);const h=e=>{let{name:t,text:s,placeholder:h,isRequired:x=!0,className:m,onChange:g,value:v}=e;const{ref:_,controls:f}=(0,i.F)(),{t:j}=(0,r.Bd)();return(0,u.jsx)(l.P.div,{ref:_,initial:"hidden",animate:f,variants:i.l,className:o,children:(0,u.jsx)(a.A.Item,{label:(0,u.jsx)("span",{className:c,children:j(s)}),name:t,rules:[{required:x}],children:(0,u.jsx)(n.A,{placeholder:h,className:`${d} ${m}`,allowClear:!0,onChange:e=>{let t=e.target.value;"number"!==typeof v||isNaN(Number(e.target.value))||(t=Number(e.target.value)),g&&g(t)},value:null===v||void 0===v?void 0:v.toString(),autoComplete:"off"})})})}},5556:(e,t,s)=>{s.d(t,{j:()=>i});var a=s(8732),n=s(8829),r=s(5043),l=s(579);const i=e=>{let{open:t,onCancel:s,footer:i=null,children:o,className:c}=e;return(0,r.useEffect)((()=>(document.body.style.overflow=t?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[t]),(0,l.jsx)(a.Ay,{theme:{components:{Modal:{contentBg:"#141414",colorIcon:"lightgray",colorIconHover:"gray"}}},children:(0,l.jsx)(n.A,{open:t,onCancel:s,footer:i,className:c,centered:!0,children:o})})}},5369:(e,t,s)=>{s.d(t,{V:()=>u});s(5043);var a=s(4117),n=s(1984),r=s(5459);const l="Hexagon_wrapper__orCOo",i="Hexagon_hexagon__Lz5zU",o="Hexagon_imageContainer__CcV75",c="Hexagon_imageText__dxduD";var d=s(579);const u=e=>{let{text:t,className:s,onClick:u}=e;const{t:h}=(0,a.Bd)(),{ref:x,controls:m}=(0,r.F)();return(0,d.jsx)(n.P.div,{ref:x,initial:"hidden",animate:m,variants:r.l,className:l,children:(0,d.jsxs)("div",{className:o,onClick:u,children:[(0,d.jsx)("img",{src:"./assets/Icons/Hexagon/Hexagon.svg",alt:"Hexagon",className:i}),(0,d.jsx)("span",{className:`${c} ${s}`,children:h(t)})]})})}},888:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043);const n="NumericInput_input__1SATw";var r=s(579);const l=(e,t)=>{let{value:s,onChange:a,onBlur:l,className:i,placeholder:o}=e;return(0,r.jsx)("input",{ref:t,value:s,onChange:e=>{let t=e.target.value;t=t.replace(",","."),t.length>1&&t.startsWith("0")&&!t.startsWith("0.")&&(t=t.substring(1));const s=t.match(/^\d*\.?\d{0,2}/);s&&a(s[0])},onBlur:l,className:`${n} ${i}`,type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",placeholder:o})},i=(0,a.forwardRef)(l)},9752:(e,t,s)=>{s.d(t,{f:()=>r});s(5043);var a=s(579);const n={maxWidth:"1200px",margin:"0 auto"},r=e=>{let{children:t}=e;return(0,a.jsx)("div",{style:n,children:t})}},9525:(e,t,s)=>{s.d(t,{U:()=>l});s(5043);var a=s(7021);const n="ResetButton_reset__efwrw";var r=s(579);const l=e=>{let{onClick:t,children:s,icon:l}=e;return(0,r.jsx)(a.Ay,{className:n,onClick:t,icon:l,children:s})}},8204:(e,t,s)=>{s.d(t,{D:()=>l});var a=s(7021);s(5043);const n="SettingButton_btn__TNlVz";var r=s(579);const l=e=>{let{onClick:t,icon:s,children:l,className:i}=e;return(0,r.jsx)(a.Ay,{onClick:t,icon:s,className:`${n} ${i}`,children:l})}},9589:(e,t,s)=>{s.d(t,{t:()=>i});s(5043);var a=s(1984),n=s(5459);const r="SubTitle_subTitle__6A8PN";var l=s(579);const i=e=>{let{children:t,className:s}=e;const{ref:i,controls:o}=(0,n.F)();return(0,l.jsx)(a.P.p,{ref:i,className:`${r} ${s}`,initial:"hidden",animate:o,variants:n.l,children:t})}},5459:(e,t,s)=>{s.d(t,{F:()=>l,l:()=>i});var a=s(9927),n=s(5246),r=s(5043);const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1?arguments[1]:void 0;const s=(0,a.s)(),[l,i]=(0,n.Wx)({threshold:e,triggerOnce:!0});return(0,r.useEffect)((()=>{i&&s.start("visible")}),[s,i]),{ref:l,controls:s,animationVariants:t}},i={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}}}},1683:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ks});var a=s(5043),n=s(8354),r=s(9752),l=s(579);const i=(0,a.createContext)(void 0),o=e=>{let{children:t}=e;const[s,n]=(0,a.useState)(null);return(0,l.jsx)(i.Provider,{value:{userData:s,updateUserData:e=>{n((t=>t?{...t,...e}:e))}},children:t})},c=()=>{const e=(0,a.useContext)(i);if(!e)throw new Error("useUserContext must be used within a UserProvider");return e};var d=s(3216),u=s(4117),h=s(1984),x=s(5369),m=s(9589),g=s(5459);const v="Diary_header__shI1u",_="Diary_info__8CHt1",f="Diary_hexagonWrapper__E3ely",j="Diary_link__ir1Va",p=a.memo((e=>{let{text:t}=e;const s=(0,d.Zp)();return(0,l.jsx)("div",{className:j,children:(0,l.jsx)(x.V,{text:t,onClick:()=>s("/workout",{state:{title:t}})})})})),N=a.memo((()=>{const{t:e}=(0,u.Bd)(),{ref:t,controls:s}=(0,g.F)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.t,{children:e("trainingDiary"),className:v}),(0,l.jsx)(h.P.div,{ref:t,className:_,initial:"hidden",animate:s,variants:g.l,children:e("diaryChoose")}),(0,l.jsxs)("div",{className:f,children:[(0,l.jsx)(p,{text:e("Hands")}),(0,l.jsx)(p,{text:e("Delts")}),(0,l.jsx)(p,{text:e("Chest")}),(0,l.jsx)(p,{text:e("Back")}),(0,l.jsx)(p,{text:e("Legs")})]})]})}));var C=s(5534),y=s(9525),w=s(6058),A=s(5578),b=s(8168);const I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var k=s(2172),S=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:I}))};const D=a.forwardRef(S);var B=s(5337);const W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"};var E=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:W}))};const M=a.forwardRef(E);var U=s(3963);const F="InputContainer_calculator__NooKn",P="InputContainer_subtitle__aQtDa",R="InputContainer_block__5jT5w",G="InputContainer_weight__Kz7j6",H="InputContainer_reps__IIpj2",L="InputContainer_repsNumber__UegEo",T="InputContainer_plusMinus__xGDVC",V="InputContainer_calculateWrapper__-xkST",z="InputContainer_calculate__EZUfU",q=a.memo((e=>{let{reps:t,setReps:s,setResult:a,weight:n,setWeight:r}=e;const{t:i}=(0,u.Bd)();return(0,l.jsxs)("div",{className:F,children:[(0,l.jsxs)("div",{className:R,children:[(0,l.jsx)("div",{className:P,children:i("workingWeight")}),(0,l.jsx)(A.A,{className:G,allowClear:!0,placeholder:i("weightKg"),value:n,type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onChange:e=>{let t=e.target.value;t=t.replace(",",".");const s=parseFloat(t);s>1e3?(0,w.n)({type:"warning",content:i("noMoreThan1000kg")}):!isNaN(s)&&/^\d*\.?\d*$/.test(t)?r(t):r("")}})]}),(0,l.jsxs)("div",{className:R,children:[(0,l.jsx)("div",{className:P,children:i("repsNumber")}),(0,l.jsxs)("div",{className:H,children:[(0,l.jsx)(U.S,{className:T,onClick:()=>{t>2?s(t-1):(0,w.n)({type:"warning",content:i("noLessThan2reps")})},children:(0,l.jsx)(D,{})}),(0,l.jsx)("div",{className:L,children:t}),(0,l.jsx)(U.S,{className:T,onClick:()=>{t<15?s(t+1):(0,w.n)({type:"warning",content:i("noMoreThan15reps")})},children:(0,l.jsx)(B.A,{})})]})]}),(0,l.jsx)("div",{className:V,children:(0,l.jsx)(U.S,{children:i("calculate"),className:z,onClick:()=>{if(!n.trim())return void(0,w.n)({type:"error",content:i("enterWorkingWeight")});if(Number(n)<10)return(0,w.n)({type:"warning",content:i("noLessThan10kg")}),r(""),void a(0);const e=Number(n),s=e*(36/(37-t)),l=((Number(e*t/30+e)+Number(s))/2).toFixed(1);a(Number(l))},icon:(0,l.jsx)(M,{})})})]})})),O="Calculator_header__xoH1S",$="Calculator_info__-wCtb",K="Calculator_container__kROfH",Y="Calculator_result__Avxlt",X="Calculator_resultWeight__E5PuC",J="Calculator_resetBtn__GotLi",Z=a.memo((()=>{const{t:e}=(0,u.Bd)(),{ref:t,controls:s}=(0,g.F)(),[n,r]=(0,a.useState)(2),[i,o]=(0,a.useState)(0),[c,d]=(0,a.useState)("");return(0,l.jsxs)("div",{className:K,children:[(0,l.jsx)(m.t,{children:e("weightCalculator"),className:O}),(0,l.jsx)(h.P.div,{ref:t,className:$,initial:"hidden",animate:s,variants:g.l,children:e("indicateWeightAndReps")}),(0,l.jsxs)("div",{children:[(0,l.jsx)(q,{reps:n,setReps:r,setResult:o,weight:c,setWeight:d}),(0,l.jsx)("div",{className:Y,children:e("calcResult")}),(0,l.jsxs)("div",{className:X,children:[i," ",e("kg")]}),(0,l.jsx)("div",{className:J,children:(0,l.jsx)(y.U,{children:e("reset"),onClick:()=>{r(2),o(0),d(""),(0,w.n)({type:"success",content:e("reseted")})},icon:(0,l.jsx)(C.A,{})})})]})]})}));var Q=s(8510);const ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 901.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-delete",theme:"outlined"};var te=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:ee}))};const se=a.forwardRef(te);var ae=s(7407),ne=s(6032),re=s(8895),le=s(6327);const ie="Information_mainContainer__RREUw",oe="Information_infoContainer__dNCgg",ce="Information_buttons__Lia4r",de="Information_sceleton__90cuI",ue="LastWorkout_wrapper__J4X8C",he="LastWorkout_title__2XY7Y",xe=a.memo((()=>{const{t:e}=(0,u.Bd)(),[t,s]=(0,a.useState)(null),n=(0,re.xI)().currentUser;return(0,a.useEffect)((()=>{(async()=>{if(n)try{const e=n?n.uid:null;if(!e)return;const t=await(0,ne.x7)((0,ne.H9)((0,ne.aU)(),"exercises",e)),a=[];if(t.exists()){const e=t.data().exercises;Array.isArray(e)&&e.forEach((e=>{e.id&&a.push(e.id)}))}const r=await(0,ne.GG)((0,ne.rJ)((0,ne.aU)(),"sets")),l=[];for(const s of r.docs){const e=s.id;if(a.includes(e)){const e=s.data();e.workouts&&Array.isArray(e.workouts)&&e.workouts.forEach((e=>{e.date&&l.push(e.date)}))}}if(l.length>0){l.sort(((e,t)=>new Date(t).getTime()-new Date(e).getTime()));const e=new Date(l[0]).toLocaleDateString();s(e)}else s(null)}catch(e){console.error(e)}})()}),[n]),(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsxs)("div",{className:ue,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/lastWorkout.png",alt:"LastWorkout"}),(0,l.jsxs)("div",{className:he,children:[e("lastWorkout"),":",(0,l.jsx)("span",{children:t})]})]})})})),me=e=>{if(!e)return"";const t=e.seconds?1e3*e.seconds:1e3*e,s=new Date(t);return`${String(s.getDate()).padStart(2,"0")}.${String(s.getMonth()+1).padStart(2,"0")}.${s.getFullYear()}`},ge="UserInfo_profileContainer__TRv+2",ve="UserInfo_profileCard__DUU6m",_e="UserInfo_userInfo__Ujxpu",fe="UserInfo_name__M-TMu",je="UserInfo_status__4Sh1F",pe="UserInfo_sport__6xreR",Ne="UserInfo_userDetails__tP1Us",Ce="UserInfo_detailItem__NqZOF",ye=a.memo((e=>{let{userData:t}=e;const{t:s}=(0,u.Bd)(),{ref:a,controls:n}=(0,g.F)();return(0,l.jsx)("div",{className:ge,children:(0,l.jsxs)(h.P.div,{ref:a,initial:"hidden",animate:n,variants:g.l,className:ve,children:[(0,l.jsxs)("div",{className:_e,children:[(0,l.jsxs)("h2",{className:fe,children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),(0,l.jsx)("p",{className:je,children:null===t||void 0===t?void 0:t.status}),(null===t||void 0===t?void 0:t.sport)&&(0,l.jsxs)("div",{className:pe,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/workout.png",alt:"Workout"}),(0,l.jsx)("span",{children:s(null===t||void 0===t?void 0:t.sport)})]}),(0,l.jsxs)("div",{className:Ne,children:[(0,l.jsxs)("div",{className:Ce,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/location.png",alt:"Location"}),null===t||void 0===t?void 0:t.location.country,(null===t||void 0===t?void 0:t.location.city)&&`, ${t.location.city}`]}),(0,l.jsxs)("div",{className:Ce,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/gender.png",alt:"Gender"}),s("gender"),": ",null!==t&&void 0!==t&&t.gender?s(t.gender):""]}),(0,l.jsxs)("div",{className:Ce,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/age.png",alt:"Age"}),s("age"),": ",null===t||void 0===t?void 0:t.age]}),(0,l.jsxs)("div",{className:Ce,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/birthday.png",alt:"DateOfBirth"}),s("dateOfBirth"),": ",me(null===t||void 0===t?void 0:t.dateOfBirth)]}),(0,l.jsxs)("div",{className:Ce,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/mail.png",alt:"Mail"}),null===t||void 0===t?void 0:t.email]})]})]}),(0,l.jsx)(xe,{})]})})}));const we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};var Ae=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:we}))};const be=a.forwardRef(Ae);var Ie=s(3727),ke=s(6191),Se=s(3722);const De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var Be=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:De}))};const We=a.forwardRef(Be);var Ee=s(7284),Me=s(9157),Ue=s(2245),Fe=s(2536),Pe=s(7021),Re=s(8147),Ge=s(3505);const He="ProfileAvatar_avatar__pl3TS",Le="ProfileAvatar_settingIcon__4yVlY",Te="ProfileAvatar_mask__NXj1e",Ve="ProfileAvatar_avatarIcons__7ClMJ",ze=a.memo((()=>{const{t:e}=(0,u.Bd)(),[t,s]=(0,a.useState)(window.innerWidth),[n,r]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),c=t<=768?150:250,d=(0,Re.c7)(),h=(0,re.xI)().currentUser;(0,a.useEffect)((()=>{const e=()=>{s(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((()=>{if(h){o(!0);const e=(0,Re.KR)(d,`avatar/${h.uid}`);(0,Re.qk)(e).then((e=>{r(e)})).catch((()=>{r(null)})).finally((()=>{o(!1)}))}else r(null),o(!1)}),[h,d]);const x=[{key:"1",label:(0,l.jsxs)("div",{children:[(0,l.jsx)(be,{className:Ve}),(0,l.jsx)(Ee.A,{showUploadList:!1,beforeUpload:t=>((async t=>{if(h){const a=(0,Re.KR)(d,`avatar/${h.uid}`);try{await(0,Re.D)(a,t),r(await(0,Re.qk)(a)),(0,w.n)({type:"success",content:e("profilePhotoUpdated")})}catch(s){(0,w.n)({type:"error",content:e("uploadFailed")})}}})(t),!1),accept:"image/*",children:(0,l.jsx)("span",{children:e("uploadNewProfilePhoto")})})]})},{key:"2",label:(0,l.jsxs)("div",{onClick:async()=>{if(h){const s=(0,Re.KR)(d,`avatar/${h.uid}`);try{await(0,Re.XR)(s),r(null),(0,w.n)({type:"success",content:e("profilePhotoDeleted")})}catch(t){(0,w.n)({type:"error",content:e("deleteFailed")})}}},children:[(0,l.jsx)(Ie.A,{className:Ve}),(0,l.jsx)("span",{children:e("deleteProfilePhoto")})]})}];return(0,l.jsx)(l.Fragment,{children:i?(0,l.jsx)(Ge.a,{}):(0,l.jsxs)("div",{className:He,children:[n?(0,l.jsx)(Me.A,{src:n,style:{width:c,height:c,borderRadius:"50%"},preview:{mask:(0,l.jsxs)("div",{className:Te,children:[(0,l.jsx)(ke.A,{}),(0,l.jsxs)("span",{children:[e("show")," "]})]})}}):(0,l.jsx)(Ue.A,{size:c,icon:(0,l.jsx)(Se.A,{})}),(0,l.jsx)(Fe.A,{menu:{items:x},arrow:!0,children:(0,l.jsx)(Pe.Ay,{icon:(0,l.jsx)(We,{}),className:Le})})]})})}));const qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"};var Oe=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:qe}))};const $e=a.forwardRef(Oe);var Ke=s(8204);const Ye="CoverImage_paper__-W7jp",Xe="CoverImage_paperPlaceholder__pThdA",Je="CoverImage_uploadCoverImage__8Ag1k",Ze="CoverImage_editBtn__lvKi2",Qe="CoverImage_buttonText__GOqMz",et=a.memo((()=>{const{t:e}=(0,u.Bd)(),t=le.j2.currentUser,[s,n]=(0,a.useState)(""),[r,i]=(0,a.useState)(!0);(0,a.useEffect)((()=>{if(t){i(!0);const e=(0,Re.KR)(le.IG,`cover/${t.uid}`);(0,Re.qk)(e).then((e=>{n(e),i(!1)})).catch((()=>{n(""),i(!1)}))}else n(""),i(!1)}),[t]);return(0,l.jsx)("div",{className:Ye,children:r?(0,l.jsx)(Ge.a,{}):(0,l.jsxs)(l.Fragment,{children:[s?(0,l.jsx)("img",{src:s,alt:"CoverImg"}):(0,l.jsx)("div",{className:Xe}),(0,l.jsx)(Ee.A,{showUploadList:!1,beforeUpload:s=>((async s=>{if(t){const r=(0,Re.KR)(le.IG,`cover/${t.uid}`);try{await(0,Re.D)(r,s);const t=await(0,Re.qk)(r);n(t),(0,w.n)({type:"success",content:e("coverImageUploaded")})}catch(a){(0,w.n)({type:"error",content:e("uploadFailed")})}}})(s),!1),accept:"image/*",className:Je,children:(0,l.jsx)(Ke.D,{icon:(0,l.jsx)($e,{}),className:Ze,children:(0,l.jsx)("span",{className:Qe,children:e("uploadCoverImage")})})})]})})}));var tt=s(5556);const st="EditProfile_wrapper__tqvwr",at="EditProfile_modal__qlf-E",nt="EditProfile_info__9cZNX",rt="EditProfile_inputLabel__rehxk";var lt=s(4e3),it=s(7843),ot=s.n(it),ct=s(9868),dt=s(1907),ut=s(1159),ht=s(8732),xt=s(4434);const mt="SportSelect_selectWrapper__MZWKX",gt="SportSelect_selectLabel__Ml--X",vt="SportSelect_selectField__F0rqL",_t=e=>{let{value:t,onChange:s}=e;const{ref:a,controls:n}=(0,g.F)(),{t:r}=(0,u.Bd)();return(0,l.jsx)(h.P.div,{ref:a,initial:"hidden",animate:n,variants:g.l,className:mt,children:(0,l.jsx)(lt.A.Item,{label:(0,l.jsx)("span",{className:gt,children:r("sport")}),children:(0,l.jsx)(ht.Ay,{theme:{components:{Select:{colorBgContainer:"#141414",colorBgElevated:"#141414",colorBorder:"#0097b2",colorText:"#ffffff",colorTextPlaceholder:"#818181",optionSelectedBg:"#404040",optionActiveBg:"#404040"}}},children:(0,l.jsx)(xt.A,{className:vt,value:t,onChange:s,style:{width:275},allowClear:!0,variant:"borderless",options:[{value:"",label:r("NotSelected")},{value:r("Fitness"),label:r("Fitness")},{value:r("Bodybuilding"),label:r("Bodybuilding")},{value:r("Powerbuilding"),label:r("Powerbuilding")},{value:r("Powerlifting"),label:r("Powerlifting")},{value:r("Crossfit"),label:r("Crossfit")},{value:r("FTraining"),label:r("FTraining")},{value:r("Weightlifting"),label:r("Weightlifting")}]})})})})};var ft=s(4793),jt=s(4190);const pt=ot()().getData(),Nt=a.memo((e=>{let{onClose:t,setIsModalOpen:s}=e;const{t:n}=(0,u.Bd)(),[r]=lt.A.useForm(),{updateUserData:i}=c(),o=(0,re.xI)().currentUser,[d,h]=(0,a.useState)(pt),[x,m]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[_,f]=(0,a.useState)(""),[j,p]=(0,a.useState)(void 0),[N,y]=(0,a.useState)(""),[A,b]=(0,a.useState)(null),[I,k]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{if(o){const e=await(0,ne.x7)((0,ne.H9)((0,ne.aU)(),"users",o.uid));if(e.exists()){const t=e.data();m(t.firstName),v(t.lastName),f(t.status),p(t.location.country),y(t.location.city),b(t.dateOfBirth.toDate()),k(t.sport),r.setFieldsValue({firstName:t.firstName,lastName:t.lastName,status:t.status,height:t.height,weight:t.weight,country:t.location.country,city:t.location.city,dateOfBirth:t.dateOfBirth.toDate(),sport:t.sport})}}})()}),[o,r]);return(0,l.jsx)(lt.A,{layout:"vertical",form:r,initialValues:{remember:!0},name:"editProfileForm",children:(0,l.jsxs)("div",{className:at,children:[(0,l.jsx)(ct.w,{name:"firstName",text:n("firstName"),placeholder:n("enterFirstName"),isRequired:!1,value:x,onChange:e=>m(e)}),(0,l.jsx)(ct.w,{name:"lastName",text:n("lastName"),placeholder:n("enterLastName"),isRequired:!1,value:g,onChange:e=>v(e)}),(0,l.jsx)(_t,{value:I,onChange:e=>k(e)}),(0,l.jsx)(ct.w,{name:"status",text:n("status"),placeholder:n("enterStatus"),isRequired:!1,value:_,onChange:e=>f(e)}),(0,l.jsx)(ut.b,{country:j,handleCountryChange:e=>p(e),filterOptions:e=>{const t=pt.filter((t=>t.label.toLowerCase().startsWith(e.toLowerCase())));h(t.length>0?t:pt)},filteredCountries:d,isRequired:!1}),(0,l.jsx)(ct.w,{name:"city",text:n("city"),placeholder:n("enterCity"),isRequired:!1,value:N,onChange:e=>y(e)}),(0,l.jsx)(lt.A.Item,{name:"dateOfBirth",rules:[{required:!1}],label:(0,l.jsx)("span",{className:rt,children:n("dateOfBirth")}),children:(0,l.jsx)(dt.V,{value:A||null,onChange:e=>b(e),disabledDate:jt.p})}),(0,l.jsx)(U.S,{onClick:async()=>{if(o&&A)try{const e=(0,ft.C)(A);await(0,ne.BN)((0,ne.H9)((0,ne.aU)(),"users",o.uid),{firstName:x,lastName:g,status:_,location:{country:j,city:N},dateOfBirth:A,age:e,sport:I},{merge:!0}),i({firstName:x,lastName:g,status:_,location:{country:j,city:N},dateOfBirth:A,age:e,sport:I}),s(!1),t(),(0,w.n)({type:"success",content:n("profileInformationUpdated")})}catch(e){(0,w.n)({type:"error",content:n("profileInformationUpdateFailed")})}},icon:(0,l.jsx)(C.A,{}),children:n("update")})]})})})),Ct=a.memo((e=>{let{onClose:t}=e;const{t:s}=(0,u.Bd)(),{ref:n,controls:r}=(0,g.F)(),[i,o]=(0,a.useState)(!0);return(0,l.jsxs)(tt.j,{open:i,onCancel:()=>{o(!1),t()},footer:null,className:st,children:[(0,l.jsx)(h.P.div,{ref:n,className:nt,initial:"hidden",animate:r,variants:g.l,children:s("editInfo")}),(0,l.jsx)(Nt,{setIsModalOpen:o,onClose:t})]})}));var yt=s(7064),wt=s(8161);const At=e=>{let{confirm:t,setConfirm:s}=e;const{t:a}=(0,u.Bd)(),n=(0,d.Zp)();return(0,l.jsx)(wt.B,{isModalOpen:t,text:a("confirmDeletingAccount"),onClick:async()=>{const e=(0,re.xI)().currentUser;if(e)try{const s=(0,Re.c7)();await(0,ne.kd)((0,ne.H9)((0,ne.aU)(),"users",e.uid)),await(0,ne.kd)((0,ne.H9)((0,ne.aU)(),"exercises",e.uid)),await(0,ne.kd)((0,ne.H9)((0,ne.aU)(),"goals",e.uid));try{await(0,Re.XR)((0,Re.KR)(s,`avatar/${e.uid}`))}catch(t){if(!(t instanceof yt.g&&"storage/object-not-found"===t.code))throw t}try{await(0,Re.XR)((0,Re.KR)(s,`cover/${e.uid}`))}catch(t){if(!(t instanceof yt.g&&"storage/object-not-found"===t.code))throw t}await(0,re.hG)(e),(0,w.n)({type:"success",content:a("accountDeleted")})}catch(t){(0,w.n)({type:"error",content:a("errorDeletingAccount")})}finally{n("/main")}},handleCancel:()=>s(!1)})},bt="Physique_physique__GOLtF",It="Physique_wrapper__NdRGS",kt="Physique_hexagonTitle__HhiZb",St="Physique_editWrapper__KLMQz",Dt="Physique_container__9qXuz";var Bt=s(3390),Wt=s(888);const Et=e=>{let{height:t,weight:s,initialHeight:a,initialWeight:n,setEditMode:r,setInitialHeight:i,setInitialWeight:o,setHeight:c,setWeight:d}=e;const h=(0,re.xI)(),{t:x}=(0,u.Bd)(),m=async()=>{if(h.currentUser&&t&&s){if(t===a&&s===n)return(0,w.n)({type:"warning",content:x("notChanged")}),void r(!1);if(Number(t)>250||Number(s)>250)return void(0,w.n)({type:"error",content:x("notValidData")});try{await(0,ne.mZ)((0,ne.H9)((0,ne.aU)(),"users",h.currentUser.uid),{height:t,weight:s}),i(t),o(s),(0,w.n)({type:"success",content:x("heightAndWeightSaved")})}catch(e){(0,w.n)({type:"error",content:x("heightAndWeightError")})}finally{r(!1)}}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:St,children:[(0,l.jsxs)("div",{className:Dt,children:[(0,l.jsx)("span",{children:x("userHeight")}),(0,l.jsx)(Wt.A,{value:t,onChange:e=>c(e)}),(0,l.jsx)("span",{children:x("cm")})]}),(0,l.jsxs)("div",{className:Dt,children:[(0,l.jsx)("span",{children:x("userWeight")}),(0,l.jsx)(Wt.A,{value:s,onChange:e=>d(e),onBlur:m}),(0,l.jsx)("span",{children:x("kg")})]})]}),(0,l.jsx)(Ke.D,{icon:(0,l.jsx)(Bt.A,{}),onClick:m,children:(0,l.jsx)("span",{children:x("saveChanges")})})]})},Mt=a.memo((e=>{let{userData:t}=e;const{t:s}=(0,u.Bd)(),n=(0,re.xI)(),[r,i]=(0,a.useState)(void 0),[o,c]=(0,a.useState)(void 0),[d,h]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!0),[_,f]=(0,a.useState)(void 0),[j,p]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{const e=async e=>{v(!0),e&&(i(null===t||void 0===t?void 0:t.height),c(null===t||void 0===t?void 0:t.weight),f(null===t||void 0===t?void 0:t.height),p(null===t||void 0===t?void 0:t.weight)),v(!1)};if(!n.currentUser)return void v(!1);const s=(0,re.hg)(n,(async t=>{await e(t)}));return e(n.currentUser),()=>s()}),[t,n]);const N=()=>h(!0);return g||void 0===r||void 0===o?(0,l.jsx)(Ge.a,{}):(0,l.jsxs)("div",{className:bt,children:[(0,l.jsx)(m.t,{children:s("physique")}),d?(0,l.jsx)(Et,{height:r,weight:o,initialHeight:_,initialWeight:j,setEditMode:h,setInitialHeight:f,setInitialWeight:p,setHeight:i,setWeight:c}):(0,l.jsxs)("div",{className:It,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:kt,children:s("userHeight")}),(0,l.jsx)(x.V,{text:`${r} ${s("cm")}`,onClick:N})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:kt,children:s("userWeight")}),(0,l.jsx)(x.V,{text:`${o} ${s("kg")}`,onClick:N})]})]})]})}));var Ut=s(9472),Ft=s(1882);const Pt="FavoriteExercises_exercises__gK31z",Rt="FavoriteExercises_starIcon__PW7lT",Gt="FavoriteExercises_filledStar__71Mqv",Ht="FavoriteExercises_emptyStar__uwtLR";var Lt=s(7326),Tt=s(9905);const Vt={collapse:"ExerciseItem_collapse__TaE31",title:"ExerciseItem_title__1RwPF",result:"ExerciseItem_result__79BUp",hexagonWrapper:"ExerciseItem_hexagonWrapper__keBag"},zt=a.memo((e=>{let{item:t}=e;const{t:s}=(0,u.Bd)(),{ref:a,controls:n}=(0,g.F)(),r=[{key:"1",label:(0,l.jsx)("p",{children:t.name}),children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:Vt.title,children:[(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/trophy.png",alt:"Trophy"}),(0,l.jsx)("span",{children:s("bestResult")})]}),(0,l.jsxs)("div",{className:Vt.result,children:[(0,l.jsxs)("div",{className:Vt.hexagonWrapper,children:[(0,l.jsx)("div",{className:Vt.hexagonTitle,children:s("weight")}),(0,l.jsx)(x.V,{text:t.bestResult.weight})]}),(0,l.jsxs)("div",{className:Vt.hexagonWrapper,children:[(0,l.jsx)("div",{className:Vt.hexagonTitle,children:s("reps")}),(0,l.jsx)(x.V,{text:t.bestResult.reps})]})]})]}),extra:(0,l.jsx)("img",{src:"./assets/Icons/AdditionalIcons/star.png",alt:"Star"})}];return(0,l.jsx)(h.P.div,{ref:a,initial:"hidden",animate:n,variants:g.l,children:(0,l.jsx)(Lt.A,{bordered:!1,expandIcon:e=>{let{isActive:t}=e;return(0,l.jsx)(Tt.A,{rotate:t?90:0})},className:Vt.collapse,items:r})})})),qt=a.memo((()=>{const{t:e}=(0,u.Bd)(),[t,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0);(0,a.useEffect)((()=>{const t=(0,re.hg)((0,re.xI)(),(t=>{t?(async t=>{r(!0);try{const a=(0,ne.H9)((0,ne.aU)(),"exercises",t.uid),n=await(0,ne.x7)(a);if(n.exists()){const t=n.data().exercises.filter((e=>e.isFavorite)).map((t=>({id:t.id,name:e(t.name),bestResult:t.bestResult})));s(t)}else s([])}catch(a){(0,w.n)({type:"error",content:e("errorFetchingFavoriteExercises")})}finally{r(!1)}})(t):r(!1)}));return()=>t()}),[e]);const i=()=>{const e=t.length;return Array.from({length:3},((t,s)=>(0,l.jsx)(Ft.A,{className:s<e?Gt:Ht},s)))};return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)(Ge.a,{}):t.length>0?(0,l.jsxs)("div",{className:Pt,children:[(0,l.jsx)(m.t,{children:e("favoriteExercises")}),(0,l.jsx)("div",{className:Rt,children:i()}),t.map((e=>(0,l.jsx)(zt,{item:e},e.id)))]}):(0,l.jsxs)("div",{className:Pt,children:[(0,l.jsx)(m.t,{children:e("favoriteExercises")}),(0,l.jsx)("div",{className:Rt,children:i()}),(0,l.jsx)(Ut.A,{image:Ut.A.PRESENTED_IMAGE_SIMPLE,description:(0,l.jsx)("span",{style:{color:"#ffffff"},children:e("noFavoriteExercises")})})]})})})),Ot="ProfileAside_aside__WRTzY",$t=e=>{let{userData:t}=e;return(0,l.jsxs)("div",{className:Ot,children:[(0,l.jsx)(Mt,{userData:t}),(0,l.jsx)(qt,{})]})},Kt=a.memo((()=>{const e=(0,re.xI)(),{t:t}=(0,u.Bd)(),[s,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),{updateUserData:d}=c(),[h,x]=(0,a.useState)(null),[m,g]=(0,a.useState)(!0);(0,a.useEffect)((()=>{const t=(0,re.hg)(e,(e=>{e&&_(e)}));return()=>t()}),[e]),(0,a.useEffect)((()=>{const t=async e=>{if(g(!0),e){const t=await v(e.uid);x(t)}else x(null);g(!1)},s=(0,re.hg)(e,t);return t(e.currentUser),()=>s()}),[e,d]);const v=async e=>{try{const t=await(0,ne.x7)((0,ne.H9)((0,ne.aU)(),"users",e));return t.exists()?t.data():null}catch(t){return null}},_=async e=>{const t=await(0,ne.x7)((0,ne.H9)(le.db,"users",e.uid));if(t.exists()){const e=t.data();x(e)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:ie,children:[(0,l.jsx)(et,{}),(0,l.jsx)(ze,{})]}),(0,l.jsxs)("div",{className:oe,children:[m?(0,l.jsx)(Q.A,{active:!0,className:de,paragraph:{rows:5,width:["100%","80%","70%","90%"]}}):(0,l.jsx)(ye,{userData:h}),(0,l.jsx)($t,{userData:h})]}),(0,l.jsxs)("div",{className:ce,children:[(0,l.jsx)(y.U,{icon:(0,l.jsx)(se,{}),onClick:()=>o(!0),children:t("delete")}),(0,l.jsx)(U.S,{icon:(0,l.jsx)(ae.A,{}),onClick:()=>r(!0),children:(0,l.jsx)("span",{children:t("edit")})})]}),(0,l.jsx)(n.A,{style:{backgroundColor:"gray"}}),s&&(0,l.jsx)(Ct,{onClose:()=>r(!1)}),i&&(0,l.jsx)(At,{confirm:i,setConfirm:o})]})}));var Yt=s(1238);const Xt=e=>{const[t,s,a]=e.split(".").map(Number);if(t&&s&&a)return new Date(a,s-1,t)},Jt=e=>t=>{e(t.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}))},Zt="EditGoal_editTitle__LVizI",Qt="EditGoal_modal__sWLRm",es="EditGoal_numericInputBlock__iQ3dN",ts="EditGoal_numericInput__Kcl34",ss="EditGoal_startBlock__LWbeJ",as="EditGoal_inputLabel__UJoEy",ns="EditGoal_updateBtn__uks05",rs=a.memo((e=>{let{editMode:t,goal:s,setGoal:a,currentValue:n,setCurrentValue:r,startWeight:i,setStartWeight:o,startDate:c,setStartDate:d,goalWeight:h,setGoalWeight:x,endDate:m,setEndDate:g,setEditMode:v,goalData:_,setGoalData:f}=e;const{t:j}=(0,u.Bd)(),p=(0,re.xI)().currentUser;return(0,l.jsxs)(tt.j,{open:t,footer:null,onCancel:()=>v(!1),children:[(0,l.jsx)("div",{className:Zt,children:j("setGoalDescription")}),(0,l.jsxs)("div",{className:Qt,children:[(0,l.jsx)(ct.w,{text:j("goalTitle"),placeholder:j("Describe your goal"),value:s,onChange:e=>a(e)}),(0,l.jsxs)("div",{className:es,children:[j("current"),(0,l.jsx)(Wt.A,{value:n,onChange:e=>r(e),className:ts,placeholder:j("currentPh")})]}),(0,l.jsxs)("div",{className:es,children:[j("startWeight"),(0,l.jsx)(Wt.A,{value:i,onChange:e=>o(e),className:ts,placeholder:j("startWeightPh")})]}),(0,l.jsxs)("div",{className:ss,children:[(0,l.jsx)("span",{className:as,children:j("startDate")}),(0,l.jsx)(dt.V,{value:c?Xt(c):void 0,onChange:Jt(d)})]}),(0,l.jsxs)("div",{className:es,children:[j("goalWeight"),(0,l.jsx)(Wt.A,{value:h,onChange:e=>x(e),className:ts,placeholder:j("goalWeightPh")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:as,children:j("endDate")}),(0,l.jsx)(dt.V,{value:m?Xt(m):void 0,onChange:Jt(g)})]}),(0,l.jsx)(U.S,{onClick:async()=>{try{const e={..._,id:(null===_||void 0===_?void 0:_.id)||(0,Yt.A)(),goal:s||"",startWeight:i||"0",startDate:c||"",goalWeight:h||"0",endDate:m||"",currentValue:n||"0"};if(null===p||void 0===p||!p.uid)return;await(0,ne.BN)((0,ne.H9)((0,ne.aU)(),"goals",p.uid),e),f(e),v(!1)}catch(e){console.error(e)}},icon:(0,l.jsx)(C.A,{}),className:ns,children:j("update")})]})]})})),ls="Goal_container__Gl07Y";const is={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"};var os=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:is}))};const cs=a.forwardRef(os),ds=a.memo((e=>{let{setGoalData:t}=e;const s=(0,re.xI)().currentUser,{t:a}=(0,u.Bd)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:[" ",a("trackProgress")]}),(0,l.jsx)(U.S,{icon:(0,l.jsx)(cs,{}),onClick:async()=>{try{const e={id:(0,Yt.A)(),goal:a("Describe your goal"),startWeight:"0",startDate:"00.00.00",goalWeight:"0",endDate:"00.00.00",currentValue:"0"},n=(0,ne.H9)((0,ne.rJ)((0,ne.aU)(),"goals"),null===s||void 0===s?void 0:s.uid);await(0,ne.BN)(n,e),t(e)}catch(e){console.error(e)}},style:{margin:"25px auto"},children:a("setGoal")})]})}));var us=s(1966);const hs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"};var xs=function(e,t){return a.createElement(k.A,(0,b.A)({},e,{ref:t,icon:hs}))};const ms=a.forwardRef(xs);var gs=s(7692);const vs="GoalMainBlock_details__hC-Nt",_s="GoalMainBlock_weightInfo__Y7jOg",fs="GoalMainBlock_dateInfo__+32Pj",js="GoalMainBlock_infoBox__7RkCH",ps="GoalMainBlock_label__+6HVI",Ns="GoalMainBlock_value__etd2o",Cs="GoalMainBlock_progressText__9Pr8d",ys="GoalMainBlock_progressValue__kJaEf",ws="GoalMainBlock_trackerBtns__2duBP",As="GoalMainBlock_progressBar__Ciycj",bs=a.memo((e=>{let{goalData:t,setGoalData:s,setGoal:n,setCurrentValue:r,setStartWeight:i,setStartDate:o,setGoalWeight:c,setEndDate:d,setEditMode:h}=e;const{t:x}=(0,u.Bd)(),m=(0,re.xI)().currentUser,[g]=(0,a.useState)(10),[v,_]=(0,a.useState)(!1),f=(j=null!==t&&void 0!==t&&t.currentValue?Number(t.currentValue):void 0,p=null!==t&&void 0!==t&&t.startWeight?Number(t.startWeight):void 0,N=null!==t&&void 0!==t&&t.goalWeight?Number(t.goalWeight):void 0,void 0===j||void 0===p||void 0===N||p===N?"0.0":Math.min((j-p)/(N-p)*100,100).toFixed(1));var j,p,N;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:x(String(null===t||void 0===t?void 0:t.goal))}),(0,l.jsxs)("div",{className:vs,children:[(0,l.jsxs)("div",{className:_s,children:[(0,l.jsxs)("div",{className:js,children:[(0,l.jsx)("span",{className:ps,children:x("startWeight")}),(0,l.jsxs)("span",{className:Ns,children:[null===t||void 0===t?void 0:t.startWeight," ",x("kg")]})]}),(0,l.jsxs)("div",{className:js,children:[(0,l.jsx)("span",{className:ps,children:x("startDate")}),(0,l.jsx)("span",{className:Ns,children:null===t||void 0===t?void 0:t.startDate})]})]}),(0,l.jsxs)("div",{className:As,children:[(0,l.jsx)(gs.A,{type:"dashboard",steps:g,percent:Number(f),trailColor:"lightgray",strokeColor:100===Number(f)?"#52c41a":"#0097b2",strokeWidth:14}),(0,l.jsxs)("div",{className:Cs,children:[x("current"),(0,l.jsxs)("p",{className:ys,children:[null===t||void 0===t?void 0:t.currentValue," ",x("kg")]})]})]}),(0,l.jsxs)("div",{className:fs,children:[(0,l.jsxs)("div",{className:js,children:[(0,l.jsx)("span",{className:ps,children:x("goalWeight")}),(0,l.jsxs)("span",{className:Ns,children:[null===t||void 0===t?void 0:t.goalWeight," ",x("kg")]})]}),(0,l.jsxs)("div",{className:js,children:[(0,l.jsx)("span",{className:ps,children:x("endDate")}),(0,l.jsx)("span",{className:Ns,children:null===t||void 0===t?void 0:t.endDate})]})]})]}),(0,l.jsxs)("div",{className:ws,children:[(0,l.jsx)(y.U,{icon:(0,l.jsx)(us.A,{}),onClick:()=>_(!0),children:x("delete")}),(0,l.jsx)(U.S,{icon:(0,l.jsx)(ms,{}),onClick:()=>{t&&(n(t.goal),r(t.currentValue),i(t.startWeight),o(t.startDate),c(t.goalWeight),d(t.endDate)),h(!0)},children:x("edit")})]}),v&&(0,l.jsx)(wt.B,{isModalOpen:v,text:x("confrimDeleteGoal"),onClick:async()=>{if(!m)return;const e=(0,ne.H9)((0,ne.aU)(),"goals",m.uid);try{await(0,ne.kd)(e),_(!1),s(void 0)}catch(t){console.error(t)}},handleCancel:e=>{e.stopPropagation(),_(!1)}})]})})),Is=a.memo((()=>{const{t:e}=(0,u.Bd)(),t=(0,re.xI)().currentUser,[s,n]=(0,a.useState)(),[r,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(),[d,h]=(0,a.useState)(),[x,g]=(0,a.useState)(),[v,_]=(0,a.useState)(),[f,j]=(0,a.useState)(),[p,N]=(0,a.useState)();return(0,a.useEffect)((()=>{(async()=>{if(!t)return;const e=(0,ne.H9)((0,ne.aU)(),"goals",t.uid);try{const t=await(0,ne.x7)(e);if(t.exists()){const e=t.data();n(e)}}catch(s){console.error(s)}})()}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:ls,children:[(0,l.jsx)(m.t,{children:e("goalTracker")}),s?(0,l.jsx)(bs,{goalData:s,setGoalData:n,setGoal:c,setCurrentValue:h,setStartWeight:g,setStartDate:_,setGoalWeight:j,setEndDate:N,setEditMode:i}):(0,l.jsx)(ds,{setGoalData:n})]}),r&&(0,l.jsx)(rs,{editMode:r,goal:o,setGoal:c,currentValue:d,setCurrentValue:h,startWeight:x,setStartWeight:g,startDate:v,setStartDate:_,goalWeight:f,setGoalWeight:j,endDate:p,setEndDate:N,setEditMode:i,goalData:s,setGoalData:n})]})})),ks=()=>((0,a.useEffect)((()=>{window.scroll(0,0)}),[]),(0,l.jsx)(o,{children:(0,l.jsxs)(r.f,{children:[(0,l.jsx)(Kt,{}),(0,l.jsx)(N,{}),(0,l.jsx)(Is,{}),(0,l.jsx)(n.A,{style:{backgroundColor:"gray"}}),(0,l.jsx)(Z,{})]})}))},4793:(e,t,s)=>{s.d(t,{C:()=>a});const a=e=>{if(null===e)return 0;const t=new Date,s=new Date(e);let a=t.getFullYear()-s.getFullYear();const n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&a--,a}},4190:(e,t,s)=>{s.d(t,{p:()=>r});var a=s(446),n=s.n(a);const r=e=>e&&e>=n()().endOf("day")}}]);
//# sourceMappingURL=683.32909cd6.chunk.js.map