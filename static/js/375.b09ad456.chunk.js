/*! For license information please see 375.b09ad456.chunk.js.LICENSE.txt */
(self.webpackChunkgymtracker=self.webpackChunkgymtracker||[]).push([[375],{5388:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(8168),i=n(5043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};var s=n(2172),o=function(e,t){return i.createElement(s.A,(0,r.A)({},e,{ref:t,icon:a}))};const l=i.forwardRef(o)},7534:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(8168),i=n(5043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]},name:"phone",theme:"outlined"};var s=n(2172),o=function(e,t){return i.createElement(s.A,(0,r.A)({},e,{ref:t,icon:a}))};const l=i.forwardRef(o)},4733:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(8168),i=n(5043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var s=n(2172),o=function(e,t){return i.createElement(s.A,(0,r.A)({},e,{ref:t,icon:a}))};const l=i.forwardRef(o)},2245:(e,t,n)=>{"use strict";n.d(t,{A:()=>X});var r=n(5043),i=n(8139),a=n.n(i),s=n(9635),o=n(3758),l=n(4320),c=n(5296),u=n(8887),h=n(9122),d=n(9598);const f=r.createContext({});var p=n(6647),g=n(4414),m=n(7060),v=n(8365);const y=e=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:i,avatarColor:a,containerSize:s,containerSizeLG:o,containerSizeSM:l,textFontSize:c,textFontSizeLG:u,textFontSizeSM:h,borderRadius:d,borderRadiusLG:f,borderRadiusSM:m,lineWidth:v,lineType:y}=e,b=(e,t,i)=>({width:e,height:e,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:i},["&".concat(n,"-icon")]:{fontSize:t,["> ".concat(r)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,g.dF)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:i,border:"".concat((0,p.zA)(v)," ").concat(y," transparent"),"&-image":{background:"transparent"},["".concat(t,"-image-img")]:{display:"block"}}),b(s,c,d)),{"&-lg":Object.assign({},b(o,u,f)),"&-sm":Object.assign({},b(l,h,m)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},b=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:i}=e;return{["".concat(t,"-group")]:{display:"inline-flex",["".concat(t)]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},["".concat(t,"-group-popover")]:{["".concat(t," + ").concat(t)]:{marginInlineStart:i}}}},w=(0,m.OF)("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=(0,v.h1)(e,{avatarBg:n,avatarColor:t});return[y(r),b(r)]}),(e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:i,fontSizeLG:a,fontSizeXL:s,fontSizeHeading3:o,marginXS:l,marginXXS:c,colorBorderBg:u}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((a+s)/2),textFontSizeLG:o,textFontSizeSM:i,groupSpace:c,groupOverlapping:-l,groupBorderColor:u}}));var E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const S=(e,t)=>{const[n,i]=r.useState(1),[p,g]=r.useState(!1),[m,v]=r.useState(!0),y=r.useRef(null),b=r.useRef(null),S=(0,o.K4)(t,y),{getPrefixCls:C,avatar:A}=r.useContext(c.QO),T=r.useContext(f),I=()=>{if(!b.current||!y.current)return;const t=b.current.offsetWidth,n=y.current.offsetWidth;if(0!==t&&0!==n){const{gap:r=4}=e;2*r<n&&i(n-2*r<t?(n-2*r)/t:1)}};r.useEffect((()=>{g(!0)}),[]),r.useEffect((()=>{v(!0),i(1)}),[e.src]),r.useEffect(I,[e.gap]);const k=()=>{const{onError:t}=e;!1!==(null===t||void 0===t?void 0:t())&&v(!1)},{prefixCls:N,shape:D,size:x,src:O,srcSet:_,icon:M,className:R,rootClassName:P,alt:L,draggable:F,children:V,crossOrigin:U}=e,j=E(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),B=(0,h.A)((e=>{var t,n;return null!==(n=null!==(t=null!==x&&void 0!==x?x:null===T||void 0===T?void 0:T.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"})),z=Object.keys("object"===typeof B&&B||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),G=(0,d.A)(z),K=r.useMemo((()=>{if("object"!==typeof B)return{};const e=l.ye.find((e=>G[e])),t=B[e];return t?{width:t,height:t,fontSize:t&&(M||V)?t/2:18}:{}}),[G,B]);const H=C("avatar",N),q=(0,u.A)(H),[W,Q,X]=w(H,q),J=a()({["".concat(H,"-lg")]:"large"===B,["".concat(H,"-sm")]:"small"===B}),Y=r.isValidElement(O),Z=D||(null===T||void 0===T?void 0:T.shape)||"circle",$=a()(H,J,null===A||void 0===A?void 0:A.className,"".concat(H,"-").concat(Z),{["".concat(H,"-image")]:Y||O&&m,["".concat(H,"-icon")]:!!M},X,q,R,P,Q),ee="number"===typeof B?{width:B,height:B,fontSize:M?B/2:18}:{};let te;if("string"===typeof O&&m)te=r.createElement("img",{src:O,draggable:F,srcSet:_,onError:k,alt:L,crossOrigin:U});else if(Y)te=O;else if(M)te=M;else if(p||1!==n){const e="scale(".concat(n,")"),t={msTransform:e,WebkitTransform:e,transform:e};te=r.createElement(s.A,{onResize:I},r.createElement("span",{className:"".concat(H,"-string"),ref:b,style:Object.assign({},t)},V))}else te=r.createElement("span",{className:"".concat(H,"-string"),style:{opacity:0},ref:b},V);return delete j.onError,delete j.gap,W(r.createElement("span",Object.assign({},j,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ee),K),null===A||void 0===A?void 0:A.style),j.style),className:$,ref:S}),te))};const C=r.forwardRef(S);var A=n(2149),T=n(2701),I=n(8678),k=n(5001);const N=e=>e?"function"===typeof e?e():e:null;var D=n(3290),x=n(2481),O=n(7659),_=n(5814),M=n(6208),R=n(2094),P=n(2979);const L=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:i,innerPadding:a,boxShadowSecondary:s,colorTextHeading:o,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:h,popoverBg:d,titleBorderBottom:f,innerContentPadding:p,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},(0,g.dF)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":h,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:l,boxShadow:s,padding:a},["".concat(t,"-title")]:{minWidth:r,marginBottom:u,color:o,fontWeight:i,borderBottom:f,padding:m},["".concat(t,"-inner-content")]:{color:n,padding:p}})},(0,M.Ay)(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},F=e=>{const{componentCls:t}=e;return{[t]:P.s.map((n=>{const r=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":r,["".concat(t,"-inner")]:{backgroundColor:r},["".concat(t,"-arrow")]:{background:"transparent"}}}}))}},V=(0,m.OF)("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,r=(0,v.h1)(e,{popoverBg:t,popoverColor:n});return[L(r),F(r),(0,_.aB)(r,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:i,wireframe:a,zIndexPopupBase:s,borderRadiusLG:o,marginXS:l,lineType:c,colorSplit:u,paddingSM:h}=e,d=n-r,f=d/2,p=d/2-t,g=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},(0,R.n)(e)),(0,M.Ke)({contentRadius:o,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:l,titlePadding:a?"".concat(f,"px ").concat(g,"px ").concat(p,"px"):0,titleBorderBottom:a?"".concat(t,"px ").concat(c," ").concat(u):"none",innerContentPadding:a?"".concat(h,"px ").concat(g,"px"):0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const j=e=>{const{hashId:t,prefixCls:n,className:i,style:s,placement:o="top",title:l,content:c,children:u}=e;return r.createElement("div",{className:a()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(o),i),style:s},r.createElement("div",{className:"".concat(n,"-arrow")}),r.createElement(O.z,Object.assign({},e,{className:t,prefixCls:n}),u||((e,t,n)=>t||n?r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"".concat(e,"-title")},N(t)),r.createElement("div",{className:"".concat(e,"-inner-content")},N(n))):null)(n,l,c)))},B=e=>{const{prefixCls:t,className:n}=e,i=U(e,["prefixCls","className"]),{getPrefixCls:s}=r.useContext(c.QO),o=s("popover",t),[l,u,h]=V(o);return l(r.createElement(j,Object.assign({},i,{prefixCls:o,hashId:u,className:a()(n,h)})))};var z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const G=e=>{let{title:t,content:n,prefixCls:i}=e;return r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"".concat(i,"-title")},N(t)),r.createElement("div",{className:"".concat(i,"-inner-content")},N(n)))},K=r.forwardRef(((e,t)=>{var n;const{prefixCls:i,title:s,content:o,overlayClassName:l,placement:u="top",trigger:h="hover",children:d,mouseEnterDelay:f=.1,mouseLeaveDelay:p=.1,onOpenChange:g,overlayStyle:m={}}=e,v=z(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:y}=r.useContext(c.QO),b=y("popover",i),[w,E,S]=V(b),C=y(),A=a()(l,E,S),[N,O]=(0,I.A)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible}),_=(e,t)=>{O(e,!0),null===g||void 0===g||g(e,t)};return w(r.createElement(x.A,Object.assign({placement:u,trigger:h,mouseEnterDelay:f,mouseLeaveDelay:p,overlayStyle:m},v,{prefixCls:b,overlayClassName:A,ref:t,open:N,onOpenChange:e=>{_(e)},overlay:s||o?r.createElement(G,{prefixCls:b,title:s,content:o}):null,transitionName:(0,D.b)(C,"zoom-big",v.transitionName),"data-popover-inject":!0}),(0,T.Ob)(d,{onKeyDown:e=>{var t,n;r.isValidElement(d)&&(null===(n=null===d||void 0===d?void 0:(t=d.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===k.A.ESC&&_(!1,e)})(e)}})))}));K._InternalPanelDoNotUseOrYouWillBeFired=B;const H=K,q=e=>{const{size:t,shape:n}=r.useContext(f),i=r.useMemo((()=>({size:e.size||t,shape:e.shape||n})),[e.size,e.shape,t,n]);return r.createElement(f.Provider,{value:i},e.children)},W=e=>{const{getPrefixCls:t,direction:n}=r.useContext(c.QO),{prefixCls:i,className:s,rootClassName:o,style:l,maxCount:h,maxStyle:d,size:f,shape:p,maxPopoverPlacement:g="top",maxPopoverTrigger:m="hover",children:v}=e,y=t("avatar",i),b="".concat(y,"-group"),E=(0,u.A)(y),[S,I,k]=w(y,E),N=a()(b,{["".concat(b,"-rtl")]:"rtl"===n},k,E,s,o,I),D=(0,A.A)(v).map(((e,t)=>(0,T.Ob)(e,{key:"avatar-key-".concat(t)}))),x=D.length;if(h&&h<x){const e=D.slice(0,h),t=D.slice(h,x);return e.push(r.createElement(H,{key:"avatar-popover-key",content:t,trigger:m,placement:g,overlayClassName:"".concat(b,"-popover"),destroyTooltipOnHide:!0},r.createElement(C,{style:d},"+".concat(x-h)))),S(r.createElement(q,{shape:p,size:f},r.createElement("div",{className:N,style:l},e)))}return S(r.createElement(q,{shape:p,size:f},r.createElement("div",{className:N,style:l},D)))},Q=C;Q.Group=W;const X=Q},3183:(e,t,n)=>{"use strict";n.d(t,{p9:()=>o});var r=n(6647),i=n(955);const a=new r.Mo("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),s=new r.Mo("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=e,r="".concat(n,"-fade"),o=t?"&":"";return[(0,i.b)(r,a,s,e.motionDurationMid,t),{["\n        ".concat(o).concat(r,"-enter,\n        ").concat(o).concat(r,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(o).concat(r,"-leave")]:{animationTimingFunction:"linear"}}]}},6036:(e,t,n)=>{"use strict";n.d(t,{A:()=>xt});var r=n(5043),i=n(436),a=n(7950),s=n(8139),o=n.n(s),l=n(8168),c=n(3029),u=n(2901),h=n(9417),d=n(5361),f=n(9426),p=n(4467),g=n(9379),m=n(3986),v=n(675),y=n(2284),b=n(467),w=n(8060),E=n(7907);const S=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=r.toLowerCase(),s=t.toLowerCase(),o=[s];return".jpg"!==s&&".jpeg"!==s||(o=[".jpg",".jpeg"]),o.some((function(e){return n.endsWith(e)}))}return/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):i===t||!!/^\w+$/.test(t)&&((0,E.Ay)(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)}))}return!0};function C(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function A(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var r=e.data[t];Array.isArray(r)?r.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,r)})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}(e,t),C(t)):e.onSuccess(C(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(e){null!==r[e]&&t.setRequestHeader(e,r[e])})),t.send(n),{abort:function(){t.abort()}}}const T=function(e,t,n){var r=function e(r,i){r&&(r.path=i||"",r.isFile?r.file((function(e){n(e)&&(r.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):r.isDirectory&&function(e,t){var n=e.createReader(),r=[];!function e(){n.readEntries((function(n){var i=Array.prototype.slice.apply(n);r=r.concat(i),i.length?e():t(r)}))}()}(r,(function(t){t.forEach((function(t){e(t,"".concat(i).concat(r.name,"/"))}))})))};e.forEach((function(e){r(e.webkitGetAsEntry())}))};var I=+new Date,k=0;function N(){return"rc-upload-".concat(I,"-").concat(++k)}var D=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],x=function(e){(0,d.A)(n,e);var t=(0,f.A)(n);function n(){var e;(0,c.A)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,p.A)((0,h.A)(e),"state",{uid:N()}),(0,p.A)((0,h.A)(e),"reqs",{}),(0,p.A)((0,h.A)(e),"fileInput",void 0),(0,p.A)((0,h.A)(e),"_isMounted",void 0),(0,p.A)((0,h.A)(e),"onChange",(function(t){var n=e.props,r=n.accept,a=n.directory,s=t.target.files,o=(0,i.A)(s).filter((function(e){return!a||S(e,r)}));e.uploadFiles(o),e.reset()})),(0,p.A)((0,h.A)(e),"onClick",(function(t){var n=e.fileInput;if(n){var r=t.target,i=e.props.onClick;if(r&&"BUTTON"===r.tagName)n.parentNode.focus(),r.blur();n.click(),i&&i(t)}})),(0,p.A)((0,h.A)(e),"onKeyDown",(function(t){"Enter"===t.key&&e.onClick(t)})),(0,p.A)((0,h.A)(e),"onFileDrop",(function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)T(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return S(t,e.props.accept)}));else{var r=(0,i.A)(t.dataTransfer.files).filter((function(t){return S(t,e.props.accept)}));!1===n&&(r=r.slice(0,1)),e.uploadFiles(r)}})),(0,p.A)((0,h.A)(e),"uploadFiles",(function(t){var n=(0,i.A)(t),r=n.map((function(t){return t.uid=N(),e.processFile(t,n)}));Promise.all(r).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))})),(0,p.A)((0,h.A)(e),"processFile",function(){var t=(0,b.A)((0,v.A)().mark((function t(n,r){var i,a,s,o,l,c,u,h,d;return(0,v.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.props.beforeUpload,a=n,!i){t.next=14;break}return t.prev=3,t.next=6,i(n,r);case 6:a=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),a=!1;case 12:if(!1!==a){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(s=e.props.action)){t.next=21;break}return t.next=18,s(n);case 18:o=t.sent,t.next=22;break;case 21:o=s;case 22:if("function"!==typeof(l=e.props.data)){t.next=29;break}return t.next=26,l(n);case 26:c=t.sent,t.next=30;break;case 29:c=l;case 30:return u="object"!==(0,y.A)(a)&&"string"!==typeof a||!a?n:a,h=u instanceof File?u:new File([u],n.name,{type:n.type}),(d=h).uid=n.uid,t.abrupt("return",{origin:n,data:c,parsedFile:d,action:o});case 35:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}()),(0,p.A)((0,h.A)(e),"saveFileInput",(function(t){e.fileInput=t})),e}return(0,u.A)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,r=e.origin,i=e.action,a=e.parsedFile;if(this._isMounted){var s=this.props,o=s.onStart,l=s.customRequest,c=s.name,u=s.headers,h=s.withCredentials,d=s.method,f=r.uid,p=l||A,g={action:i,filename:c,data:n,file:a,headers:u,withCredentials:h,method:d||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,a)},onSuccess:function(e,n){var r=t.props.onSuccess;null===r||void 0===r||r(e,a,n),delete t.reqs[f]},onError:function(e,n){var r=t.props.onError;null===r||void 0===r||r(e,n,a),delete t.reqs[f]}};o(r),this.reqs[f]=p(g)}}},{key:"reset",value:function(){this.setState({uid:N()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e,t=this.props,n=t.component,i=t.prefixCls,a=t.className,s=t.classNames,c=void 0===s?{}:s,u=t.disabled,h=t.id,d=t.style,f=t.styles,v=void 0===f?{}:f,y=t.multiple,b=t.accept,E=t.capture,S=t.children,C=t.directory,A=t.openFileDialogOnClick,T=t.onMouseEnter,I=t.onMouseLeave,k=t.hasControlInside,N=(0,m.A)(t,D),x=o()((e={},(0,p.A)(e,i,!0),(0,p.A)(e,"".concat(i,"-disabled"),u),(0,p.A)(e,a,a),e)),O=C?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},_=u?{}:{onClick:A?this.onClick:function(){},onKeyDown:A?this.onKeyDown:function(){},onMouseEnter:T,onMouseLeave:I,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:k?void 0:"0"};return r.createElement(n,(0,l.A)({},_,{className:x,role:k?void 0:"button",style:d}),r.createElement("input",(0,l.A)({},(0,w.A)(N,{aria:!0,data:!0}),{id:h,disabled:u,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:(0,g.A)({display:"none"},v.input),className:c.input,accept:b},O,{multiple:y,onChange:this.onChange},null!=E?{capture:E}:{})),S)}}]),n}(r.Component);const O=x;function _(){}var M=function(e){(0,d.A)(n,e);var t=(0,f.A)(n);function n(){var e;(0,c.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,p.A)((0,h.A)(e),"uploader",void 0),(0,p.A)((0,h.A)(e),"saveUploader",(function(t){e.uploader=t})),e}return(0,u.A)(n,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return r.createElement(O,(0,l.A)({},this.props,{ref:this.saveUploader}))}}]),n}(r.Component);(0,p.A)(M,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:_,onError:_,onSuccess:_,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const R=M;var P=n(8678),L=n(5296),F=n(8440),V=n(370),U=n(6970),j=n(4414),B=n(7770),z=n(7060),G=n(8365),K=n(6647);const H=e=>{const{componentCls:t,iconCls:n}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-drag")]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:"".concat((0,K.zA)(e.lineWidth)," dashed ").concat(e.colorBorder),borderRadius:e.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(e.motionDurationSlow),[t]:{padding:e.padding},["".concat(t,"-btn")]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:"".concat((0,K.zA)(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder)}},["".concat(t,"-drag-container")]:{display:"table-cell",verticalAlign:"middle"},["\n          &:not(".concat(t,"-disabled):hover,\n          &-hover:not(").concat(t,"-disabled)\n        ")]:{borderColor:e.colorPrimaryHover},["p".concat(t,"-drag-icon")]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},["p".concat(t,"-text")]:{margin:"0 0 ".concat((0,K.zA)(e.marginXXS)),color:e.colorTextHeading,fontSize:e.fontSizeLG},["p".concat(t,"-hint")]:{color:e.colorTextDescription,fontSize:e.fontSize},["&".concat(t,"-disabled")]:{["p".concat(t,"-drag-icon ").concat(n,",\n            p").concat(t,"-text,\n            p").concat(t,"-hint\n          ")]:{color:e.colorTextDisabled}}}}}},q=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSize:i,lineHeight:a,calc:s}=e,o="".concat(t,"-list-item"),l="".concat(o,"-actions"),c="".concat(o,"-action"),u=e.fontHeightSM;return{["".concat(t,"-wrapper")]:{["".concat(t,"-list")]:Object.assign(Object.assign({},(0,j.t6)()),{lineHeight:e.lineHeight,[o]:{position:"relative",height:s(e.lineHeight).mul(i).equal(),marginTop:e.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:"background-color ".concat(e.motionDurationSlow),"&:hover":{backgroundColor:e.controlItemBgHover},["".concat(o,"-name")]:Object.assign(Object.assign({},j.L9),{padding:"0 ".concat((0,K.zA)(e.paddingXS)),lineHeight:a,flex:"auto",transition:"all ".concat(e.motionDurationSlow)}),[l]:{whiteSpace:"nowrap",[c]:{opacity:0},[r]:{color:e.actionsColor,transition:"all ".concat(e.motionDurationSlow)},["\n              ".concat(c,":focus-visible,\n              &.picture ").concat(c,"\n            ")]:{opacity:1},["".concat(c).concat(n,"-btn")]:{height:u,border:0,lineHeight:1}},["".concat(t,"-icon ").concat(r)]:{color:e.colorTextDescription,fontSize:i},["".concat(o,"-progress")]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:s(i).add(e.paddingXS).equal(),fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},["".concat(o,":hover ").concat(c)]:{opacity:1},["".concat(o,"-error")]:{color:e.colorError,["".concat(o,"-name, ").concat(t,"-icon ").concat(r)]:{color:e.colorError},[l]:{["".concat(r,", ").concat(r,":hover")]:{color:e.colorError},[c]:{opacity:1}}},["".concat(t,"-list-item-container")]:{transition:"opacity ".concat(e.motionDurationSlow,", height ").concat(e.motionDurationSlow),"&::before":{display:"table",width:0,height:0,content:'""'}}})}}};var W=n(3183);const Q=new K.Mo("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),X=new K.Mo("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),J=e=>{const{componentCls:t}=e,n="".concat(t,"-animate-inline");return[{["".concat(t,"-wrapper")]:{["".concat(n,"-appear, ").concat(n,"-enter, ").concat(n,"-leave")]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},["".concat(n,"-appear, ").concat(n,"-enter")]:{animationName:Q},["".concat(n,"-leave")]:{animationName:X}}},{["".concat(t,"-wrapper")]:(0,W.p9)(e)},Q,X]};var Y=n(6983);const Z=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:i,calc:a}=e,s="".concat(t,"-list"),o="".concat(s,"-item");return{["".concat(t,"-wrapper")]:{["\n        ".concat(s).concat(s,"-picture,\n        ").concat(s).concat(s,"-picture-card,\n        ").concat(s).concat(s,"-picture-circle\n      ")]:{[o]:{position:"relative",height:a(r).add(a(e.lineWidth).mul(2)).add(a(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:"".concat((0,K.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},["".concat(o,"-thumbnail")]:Object.assign(Object.assign({},j.L9),{width:r,height:r,lineHeight:(0,K.zA)(a(r).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),["".concat(o,"-progress")]:{bottom:i,width:"calc(100% - ".concat((0,K.zA)(a(e.paddingSM).mul(2).equal()),")"),marginTop:0,paddingInlineStart:a(r).add(e.paddingXS).equal()}},["".concat(o,"-error")]:{borderColor:e.colorError,["".concat(o,"-thumbnail ").concat(n)]:{["svg path[fill='".concat(Y.z1[0],"']")]:{fill:e.colorErrorBg},["svg path[fill='".concat(Y.z1.primary,"']")]:{fill:e.colorError}}},["".concat(o,"-uploading")]:{borderStyle:"dashed",["".concat(o,"-name")]:{marginBottom:i}}},["".concat(s).concat(s,"-picture-circle ").concat(o)]:{["&, &::before, ".concat(o,"-thumbnail")]:{borderRadius:"50%"}}}}},$=e=>{const{componentCls:t,iconCls:n,fontSizeLG:r,colorTextLightSolid:i,calc:a}=e,s="".concat(t,"-list"),o="".concat(s,"-item"),l=e.uploadPicCardSize;return{["\n      ".concat(t,"-wrapper").concat(t,"-picture-card-wrapper,\n      ").concat(t,"-wrapper").concat(t,"-picture-circle-wrapper\n    ")]:Object.assign(Object.assign({},(0,j.t6)()),{display:"block",["".concat(t).concat(t,"-select")]:{width:l,height:l,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:"".concat((0,K.zA)(e.lineWidth)," dashed ").concat(e.colorBorder),borderRadius:e.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(e.motionDurationSlow),["> ".concat(t)]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},["&:not(".concat(t,"-disabled):hover")]:{borderColor:e.colorPrimary}},["".concat(s).concat(s,"-picture-card, ").concat(s).concat(s,"-picture-circle")]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},["".concat(s,"-item-container")]:{display:"inline-block",width:l,height:l,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[o]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:"calc(100% - ".concat((0,K.zA)(a(e.paddingXS).mul(2).equal()),")"),height:"calc(100% - ".concat((0,K.zA)(a(e.paddingXS).mul(2).equal()),")"),backgroundColor:e.colorBgMask,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'" "'}},["".concat(o,":hover")]:{["&::before, ".concat(o,"-actions")]:{opacity:1}},["".concat(o,"-actions")]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:"all ".concat(e.motionDurationSlow),["\n            ".concat(n,"-eye,\n            ").concat(n,"-download,\n            ").concat(n,"-delete\n          ")]:{zIndex:10,width:r,margin:"0 ".concat((0,K.zA)(e.marginXXS)),fontSize:r,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),color:i,"&:hover":{color:i},svg:{verticalAlign:"baseline"}}},["".concat(o,"-thumbnail, ").concat(o,"-thumbnail img")]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},["".concat(o,"-name")]:{display:"none",textAlign:"center"},["".concat(o,"-file + ").concat(o,"-name")]:{position:"absolute",bottom:e.margin,display:"block",width:"calc(100% - ".concat((0,K.zA)(a(e.paddingXS).mul(2).equal()),")")},["".concat(o,"-uploading")]:{["&".concat(o)]:{backgroundColor:e.colorFillAlter},["&::before, ".concat(n,"-eye, ").concat(n,"-download, ").concat(n,"-delete")]:{display:"none"}},["".concat(o,"-progress")]:{bottom:e.marginXL,width:"calc(100% - ".concat((0,K.zA)(a(e.paddingXS).mul(2).equal()),")"),paddingInlineStart:0}}}),["".concat(t,"-wrapper").concat(t,"-picture-circle-wrapper")]:{["".concat(t).concat(t,"-select")]:{borderRadius:"50%"}}}},ee=e=>{const{componentCls:t}=e;return{["".concat(t,"-rtl")]:{direction:"rtl"}}},te=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({},(0,j.dF)(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},["".concat(t,"-select")]:{display:"inline-block"},["".concat(t,"-disabled")]:{color:n,cursor:"not-allowed"}})}},ne=(0,z.OF)("Upload",(e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:r,controlHeightLG:i,calc:a}=e,s=(0,G.h1)(e,{uploadThumbnailSize:a(t).mul(2).equal(),uploadProgressOffset:a(a(n).div(2)).add(r).equal(),uploadPicCardSize:a(i).mul(2.55).equal()});return[te(s),H(s),Z(s),$(s),q(s),J(s),ee(s),(0,B.A)(s)]}),(e=>({actionsColor:e.colorTextDescription})));const re={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};var ie=n(2172),ae=function(e,t){return r.createElement(ie.A,(0,l.A)({},e,{ref:t,icon:re}))};const se=r.forwardRef(ae);var oe=n(164);const le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};var ce=function(e,t){return r.createElement(ie.A,(0,l.A)({},e,{ref:t,icon:le}))};const ue=r.forwardRef(ce);const he={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};var de=function(e,t){return r.createElement(ie.A,(0,l.A)({},e,{ref:t,icon:he}))};const fe=r.forwardRef(de);var pe=n(7419),ge=n(4210),me=n(3290),ve=n(2701),ye=n(7021);function be(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function we(e,t){const n=(0,i.A)(t),r=n.findIndex((t=>{let{uid:n}=t;return n===e.uid}));return-1===r?n.push(e):n[r]=e,n}function Ee(e,t){const n=void 0!==e.uid?"uid":"name";return t.filter((t=>t[n]===e[n]))[0]}const Se=e=>0===e.indexOf("image/"),Ce=e=>{if(e.type&&!e.thumbUrl)return Se(e.type);const t=e.thumbUrl||e.url||"",n=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(t)&&!n},Ae=200;function Te(e){return new Promise((t=>{if(!e.type||!Se(e.type))return void t("");const n=document.createElement("canvas");n.width=Ae,n.height=Ae,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Ae,"px; height: ").concat(Ae,"px; z-index: 9999; display: none;"),document.body.appendChild(n);const r=n.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:e,height:a}=i;let s=Ae,o=Ae,l=0,c=0;e>a?(o=a*(Ae/e),c=-(o-s)/2):(s=e*(Ae/a),l=-(s-o)/2),r.drawImage(i,l,c,s,o);const u=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(i.src),t(u)},i.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const t=new FileReader;t.onload=()=>{t.result&&"string"===typeof t.result&&(i.src=t.result)},t.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&t(n.result)},n.readAsDataURL(e)}else i.src=window.URL.createObjectURL(e)}))}var Ie=n(1966);const ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var Ne=function(e,t){return r.createElement(ie.A,(0,l.A)({},e,{ref:t,icon:ke}))};const De=r.forwardRef(Ne);var xe=n(6191),Oe=n(2499),_e=n(3390),Me=n(8528),Re=n(3727),Pe=n(8574),Le={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Fe=function(){var e=(0,r.useRef)([]),t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current};var Ve=n(5544),Ue=n(2931),je=0,Be=(0,Ue.A)();const ze=function(e){var t=r.useState(),n=(0,Ve.A)(t,2),i=n[0],a=n[1];return r.useEffect((function(){a("rc_progress_".concat(function(){var e;return Be?(e=je,je+=1):e="TEST_OR_SSR",e}()))}),[]),e||i};var Ge=function(e){var t=e.bg,n=e.children;return r.createElement("div",{style:{width:"100%",height:"100%",background:t}},n)};function Ke(e,t){return Object.keys(e).map((function(n){var r=parseFloat(n),i="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(i)}))}const He=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.color,a=e.gradientId,s=e.radius,o=e.style,l=e.ptg,c=e.strokeLinecap,u=e.strokeWidth,h=e.size,d=e.gapDegree,f=i&&"object"===(0,y.A)(i),p=f?"#FFF":void 0,g=h/2,m=r.createElement("circle",{className:"".concat(n,"-circle-path"),r:s,cx:g,cy:g,stroke:p,strokeLinecap:c,strokeWidth:u,opacity:0===l?0:1,style:o,ref:t});if(!f)return m;var v="".concat(a,"-conic"),b=d?"".concat(180+d/2,"deg"):"0deg",w=Ke(i,(360-d)/360),E=Ke(i,1),S="conic-gradient(from ".concat(b,", ").concat(w.join(", "),")"),C="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(E.join(", "),")");return r.createElement(r.Fragment,null,r.createElement("mask",{id:v},m),r.createElement("foreignObject",{x:0,y:0,width:h,height:h,mask:"url(#".concat(v,")")},r.createElement(Ge,{bg:C},r.createElement(Ge,{bg:S}))))}));var qe=100,We=function(e,t,n,r,i,a,s,o,l,c){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,h=n/100*360*((360-a)/360),d=0===a?0:{bottom:0,top:180,left:90,right:-90}[s],f=(100-r)/100*t;"round"===l&&100!==r&&(f+=c/2)>=t&&(f=t-.01);return{stroke:"string"===typeof o?o:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:f+u,transform:"rotate(".concat(i+h+d,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Qe=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Xe(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}const Je=function(e){var t=(0,g.A)((0,g.A)({},Le),e),n=t.id,i=t.prefixCls,a=t.steps,s=t.strokeWidth,c=t.trailWidth,u=t.gapDegree,h=void 0===u?0:u,d=t.gapPosition,f=t.trailColor,p=t.strokeLinecap,v=t.style,b=t.className,w=t.strokeColor,E=t.percent,S=(0,m.A)(t,Qe),C=ze(n),A="".concat(C,"-gradient"),T=50-s/2,I=2*Math.PI*T,k=h>0?90+h/2:-90,N=I*((360-h)/360),D="object"===(0,y.A)(a)?a:{count:a,gap:2},x=D.count,O=D.gap,_=Xe(E),M=Xe(w),R=M.find((function(e){return e&&"object"===(0,y.A)(e)})),P=R&&"object"===(0,y.A)(R)?"butt":p,L=We(I,N,0,100,k,h,d,f,P,s),F=Fe();return r.createElement("svg",(0,l.A)({className:o()("".concat(i,"-circle"),b),viewBox:"0 0 ".concat(qe," ").concat(qe),style:v,id:n,role:"presentation"},S),!x&&r.createElement("circle",{className:"".concat(i,"-circle-trail"),r:T,cx:50,cy:50,stroke:f,strokeLinecap:P,strokeWidth:c||s,style:L}),x?function(){var e=Math.round(x*(_[0]/100)),t=100/x,n=0;return new Array(x).fill(null).map((function(a,o){var l=o<=e-1?M[0]:f,c=l&&"object"===(0,y.A)(l)?"url(#".concat(A,")"):void 0,u=We(I,N,n,t,k,h,d,l,"butt",s,O);return n+=100*(N-u.strokeDashoffset+O)/N,r.createElement("circle",{key:o,className:"".concat(i,"-circle-path"),r:T,cx:50,cy:50,stroke:c,strokeWidth:s,opacity:1,style:u,ref:function(e){F[o]=e}})}))}():function(){var e=0;return _.map((function(t,n){var a=M[n]||M[M.length-1],o=We(I,N,e,t,k,h,d,a,P,s);return e+=t,r.createElement(He,{key:n,color:a,ptg:t,radius:T,prefixCls:i,gradientId:A,style:o,strokeLinecap:P,strokeWidth:s,gapDegree:h,ref:function(e){F[n]=e},size:qe})})).reverse()}())};var Ye=n(2481);function Ze(e){return!e||e<0?0:e>100?100:e}function $e(e){let{success:t,successPercent:n}=e,r=n;return t&&"progress"in t&&(r=t.progress),t&&"percent"in t&&(r=t.percent),r}const et=(e,t,n)=>{var r,i,a,s;let o=-1,l=-1;if("step"===t){const t=n.steps,r=n.strokeWidth;"string"===typeof e||"undefined"===typeof e?(o="small"===e?2:14,l=null!==r&&void 0!==r?r:8):"number"===typeof e?[o,l]=[e,e]:[o=14,l=8]=e,o*=t}else if("line"===t){const t=null===n||void 0===n?void 0:n.strokeWidth;"string"===typeof e||"undefined"===typeof e?l=t||("small"===e?6:8):"number"===typeof e?[o,l]=[e,e]:[o=-1,l=8]=e}else"circle"!==t&&"dashboard"!==t||("string"===typeof e||"undefined"===typeof e?[o,l]="small"===e?[60,60]:[120,120]:"number"===typeof e?[o,l]=[e,e]:(o=null!==(i=null!==(r=e[0])&&void 0!==r?r:e[1])&&void 0!==i?i:120,l=null!==(s=null!==(a=e[0])&&void 0!==a?a:e[1])&&void 0!==s?s:120));return[o,l]},tt=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:i="round",gapPosition:a,gapDegree:s,width:l=120,type:c,children:u,success:h,size:d=l,steps:f}=e,[p,g]=et(d,"circle");let{strokeWidth:m}=e;void 0===m&&(m=Math.max((e=>3/e*100)(p),6));const v={width:p,height:g,fontSize:.15*p+6},y=r.useMemo((()=>s||0===s?s:"dashboard"===c?75:void 0),[s,c]),b=(e=>{let{percent:t,success:n,successPercent:r}=e;const i=Ze($e({success:n,successPercent:r}));return[i,Ze(Ze(t)-i)]})(e),w=a||"dashboard"===c&&"bottom"||void 0,E="[object Object]"===Object.prototype.toString.call(e.strokeColor),S=(e=>{let{success:t={},strokeColor:n}=e;const{strokeColor:r}=t;return[r||Y.uy.green,n||null]})({success:h,strokeColor:e.strokeColor}),C=o()("".concat(t,"-inner"),{["".concat(t,"-circle-gradient")]:E}),A=r.createElement(Je,{steps:f,percent:f?b[1]:b,strokeWidth:m,trailWidth:m,strokeColor:f?S[1]:S,strokeLinecap:i,trailColor:n,prefixCls:t,gapDegree:y,gapPosition:w});return r.createElement("div",{className:C,style:v},p<=20?r.createElement(Ye.A,{title:u},r.createElement("span",null,A)):r.createElement(r.Fragment,null,A,u))},nt="--progress-line-stroke-color",rt="--progress-percent",it=e=>{const t=e?"100%":"-100%";return new K.Mo("antProgress".concat(e?"RTL":"LTR","Active"),{"0%":{transform:"translateX(".concat(t,") scaleX(0)"),opacity:.1},"20%":{transform:"translateX(".concat(t,") scaleX(0)"),opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},at=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},(0,j.dF)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},["".concat(t,"-outer")]:{display:"inline-block",width:"100%"},["&".concat(t,"-show-info")]:{["".concat(t,"-outer")]:{marginInlineEnd:"calc(-2em - ".concat((0,K.zA)(e.marginXS),")"),paddingInlineEnd:"calc(2em + ".concat((0,K.zA)(e.paddingXS),")")}},["".concat(t,"-inner")]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},["".concat(t,"-inner:not(").concat(t,"-circle-gradient)")]:{["".concat(t,"-circle-path")]:{stroke:e.defaultColor}},["".concat(t,"-success-bg, ").concat(t,"-bg")]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc)},["".concat(t,"-bg")]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit","var(".concat(nt,")")]},height:"100%",width:"calc(1 / var(".concat(rt,") * 100%)"),display:"block"}},["".concat(t,"-success-bg")]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},["".concat(t,"-text")]:{display:"inline-block",width:"2em",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize}},["&".concat(t,"-status-active")]:{["".concat(t,"-bg::before")]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:it(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},["&".concat(t,"-rtl").concat(t,"-status-active")]:{["".concat(t,"-bg::before")]:{animationName:it(!0)}},["&".concat(t,"-status-exception")]:{["".concat(t,"-bg")]:{backgroundColor:e.colorError},["".concat(t,"-text")]:{color:e.colorError}},["&".concat(t,"-status-exception ").concat(t,"-inner:not(").concat(t,"-circle-gradient)")]:{["".concat(t,"-circle-path")]:{stroke:e.colorError}},["&".concat(t,"-status-success")]:{["".concat(t,"-bg")]:{backgroundColor:e.colorSuccess},["".concat(t,"-text")]:{color:e.colorSuccess}},["&".concat(t,"-status-success ").concat(t,"-inner:not(").concat(t,"-circle-gradient)")]:{["".concat(t,"-circle-path")]:{stroke:e.colorSuccess}}})}},st=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{["".concat(t,"-circle-trail")]:{stroke:e.remainingColor},["&".concat(t,"-circle ").concat(t,"-inner")]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},["&".concat(t,"-circle ").concat(t,"-text")]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},["".concat(t,"-circle&-status-exception")]:{["".concat(t,"-text")]:{color:e.colorError}},["".concat(t,"-circle&-status-success")]:{["".concat(t,"-text")]:{color:e.colorSuccess}}},["".concat(t,"-inline-circle")]:{lineHeight:1,["".concat(t,"-inner")]:{verticalAlign:"bottom"}}}},ot=e=>{const{componentCls:t}=e;return{[t]:{["".concat(t,"-steps")]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:"all ".concat(e.motionDurationSlow),"&-active":{backgroundColor:e.defaultColor}}}}}},lt=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{["".concat(t,"-small&-line, ").concat(t,"-small&-line ").concat(t,"-text ").concat(n)]:{fontSize:e.fontSizeSM}}}},ct=(0,z.OF)("Progress",(e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=(0,G.h1)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[at(n),st(n),ot(n),lt(n)]}),(e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:"".concat(e.fontSize/e.fontSizeSM,"em")})));var ut=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const ht=(e,t)=>{const{from:n=Y.uy.blue,to:r=Y.uy.blue,direction:i=("rtl"===t?"to left":"to right")}=e,a=ut(e,["from","to","direction"]);if(0!==Object.keys(a).length){const e=(e=>{let t=[];return Object.keys(e).forEach((n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),t=t.sort(((e,t)=>e.key-t.key)),t.map((e=>{let{key:t,value:n}=e;return"".concat(n," ").concat(t,"%")})).join(", ")})(a),t="linear-gradient(".concat(i,", ").concat(e,")");return{background:t,[nt]:t}}const s="linear-gradient(".concat(i,", ").concat(n,", ").concat(r,")");return{background:s,[nt]:s}},dt=e=>{const{prefixCls:t,direction:n,percent:i,size:a,strokeWidth:s,strokeColor:o,strokeLinecap:l="round",children:c,trailColor:u=null,success:h}=e,d=o&&"string"!==typeof o?ht(o,n):{[nt]:o,background:o},f="square"===l||"butt"===l?0:void 0,p=null!==a&&void 0!==a?a:[-1,s||("small"===a?6:8)],[g,m]=et(p,"line",{strokeWidth:s});const v={backgroundColor:u||void 0,borderRadius:f},y=Object.assign(Object.assign({width:"".concat(Ze(i),"%"),height:m,borderRadius:f},d),{[rt]:Ze(i)/100}),b=$e(e),w={width:"".concat(Ze(b),"%"),height:m,borderRadius:f,backgroundColor:null===h||void 0===h?void 0:h.strokeColor},E={width:g<0?"100%":g,height:m};return r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(t,"-outer"),style:E},r.createElement("div",{className:"".concat(t,"-inner"),style:v},r.createElement("div",{className:"".concat(t,"-bg"),style:y}),void 0!==b?r.createElement("div",{className:"".concat(t,"-success-bg"),style:w}):null)),c)},ft=e=>{const{size:t,steps:n,percent:i=0,strokeWidth:a=8,strokeColor:s,trailColor:l=null,prefixCls:c,children:u}=e,h=Math.round(n*(i/100)),d=null!==t&&void 0!==t?t:["small"===t?2:14,a],[f,p]=et(d,"step",{steps:n,strokeWidth:a}),g=f/n,m=new Array(n);for(let v=0;v<n;v++){const e=Array.isArray(s)?s[v]:s;m[v]=r.createElement("div",{key:v,className:o()("".concat(c,"-steps-item"),{["".concat(c,"-steps-item-active")]:v<=h-1}),style:{backgroundColor:v<=h-1?e:l,width:g,height:p}})}return r.createElement("div",{className:"".concat(c,"-steps-outer")},m,u)};var pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const gt=["normal","exception","active","success"],mt=r.forwardRef(((e,t)=>{const{prefixCls:n,className:i,rootClassName:a,steps:s,strokeColor:l,percent:c=0,size:u="default",showInfo:h=!0,type:d="line",status:f,format:p,style:g}=e,m=pt(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),v=r.useMemo((()=>{var t,n;const r=$e(e);return parseInt(void 0!==r?null===(t=null!==r&&void 0!==r?r:0)||void 0===t?void 0:t.toString():null===(n=null!==c&&void 0!==c?c:0)||void 0===n?void 0:n.toString(),10)}),[c,e.success,e.successPercent]),y=r.useMemo((()=>!gt.includes(f)&&v>=100?"success":f||"normal"),[f,v]),{getPrefixCls:b,direction:w,progress:E}=r.useContext(L.QO),S=b("progress",n),[C,A,T]=ct(S),I=r.useMemo((()=>{if(!h)return null;const t=$e(e);let n;const i="line"===d;return p||"exception"!==y&&"success"!==y?n=(p||(e=>"".concat(e,"%")))(Ze(c),Ze(t)):"exception"===y?n=i?r.createElement(Me.A,null):r.createElement(Re.A,null):"success"===y&&(n=i?r.createElement(Oe.A,null):r.createElement(_e.A,null)),r.createElement("span",{className:"".concat(S,"-text"),title:"string"===typeof n?n:void 0},n)}),[h,c,v,y,d,S,p]);const k=Array.isArray(l)?l[0]:l,N="string"===typeof l||Array.isArray(l)?l:void 0;let D;"line"===d?D=s?r.createElement(ft,Object.assign({},e,{strokeColor:N,prefixCls:S,steps:"object"===typeof s?s.count:s}),I):r.createElement(dt,Object.assign({},e,{strokeColor:k,prefixCls:S,direction:w}),I):"circle"!==d&&"dashboard"!==d||(D=r.createElement(tt,Object.assign({},e,{strokeColor:k,prefixCls:S,progressStatus:y}),I));const x=o()(S,"".concat(S,"-status-").concat(y),{["".concat(S,"-").concat("dashboard"===d?"circle":d)]:"line"!==d,["".concat(S,"-inline-circle")]:"circle"===d&&et(u,"circle")[0]<=20,["".concat(S,"-line")]:!s&&"line"===d,["".concat(S,"-steps")]:s,["".concat(S,"-show-info")]:h,["".concat(S,"-").concat(u)]:"string"===typeof u,["".concat(S,"-rtl")]:"rtl"===w},null===E||void 0===E?void 0:E.className,i,a,A,T);return C(r.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},null===E||void 0===E?void 0:E.style),g),className:x,role:"progressbar","aria-valuenow":v},(0,Pe.A)(m,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),D))}));const vt=mt,yt=r.forwardRef(((e,t)=>{let{prefixCls:n,className:i,style:a,locale:s,listType:l,file:c,items:u,progress:h,iconRender:d,actionIconRender:f,itemRender:p,isImgUrl:g,showPreviewIcon:m,showRemoveIcon:v,showDownloadIcon:y,previewIcon:b,removeIcon:w,downloadIcon:E,onPreview:S,onDownload:C,onClose:A}=e;var T,I;const{status:k}=c,[N,D]=r.useState(k);r.useEffect((()=>{"removed"!==k&&D(k)}),[k]);const[x,O]=r.useState(!1);r.useEffect((()=>{const e=setTimeout((()=>{O(!0)}),300);return()=>{clearTimeout(e)}}),[]);const _=d(c);let M=r.createElement("div",{className:"".concat(n,"-icon")},_);if("picture"===l||"picture-card"===l||"picture-circle"===l)if("uploading"===N||!c.thumbUrl&&!c.url){const e=o()("".concat(n,"-list-item-thumbnail"),{["".concat(n,"-list-item-file")]:"uploading"!==N});M=r.createElement("div",{className:e},_)}else{const e=(null===g||void 0===g?void 0:g(c))?r.createElement("img",{src:c.thumbUrl||c.url,alt:c.name,className:"".concat(n,"-list-item-image"),crossOrigin:c.crossOrigin}):_,t=o()("".concat(n,"-list-item-thumbnail"),{["".concat(n,"-list-item-file")]:g&&!g(c)});M=r.createElement("a",{className:t,onClick:e=>S(c,e),href:c.url||c.thumbUrl,target:"_blank",rel:"noopener noreferrer"},e)}const R=o()("".concat(n,"-list-item"),"".concat(n,"-list-item-").concat(N)),P="string"===typeof c.linkProps?JSON.parse(c.linkProps):c.linkProps,F=v?f(("function"===typeof w?w(c):w)||r.createElement(Ie.A,null),(()=>A(c)),n,s.removeFile,!0):null,V=y&&"done"===N?f(("function"===typeof E?E(c):E)||r.createElement(De,null),(()=>C(c)),n,s.downloadFile):null,U="picture-card"!==l&&"picture-circle"!==l&&r.createElement("span",{key:"download-delete",className:o()("".concat(n,"-list-item-actions"),{picture:"picture"===l})},V,F),j=o()("".concat(n,"-list-item-name")),B=c.url?[r.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:j,title:c.name},P,{href:c.url,onClick:e=>S(c,e)}),c.name),U]:[r.createElement("span",{key:"view",className:j,onClick:e=>S(c,e),title:c.name},c.name),U],z=m&&(c.url||c.thumbUrl)?r.createElement("a",{href:c.url||c.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:e=>S(c,e),title:s.previewFile},"function"===typeof b?b(c):b||r.createElement(xe.A,null)):null,G=("picture-card"===l||"picture-circle"===l)&&"uploading"!==N&&r.createElement("span",{className:"".concat(n,"-list-item-actions")},z,"done"===N&&V,F),{getPrefixCls:K}=r.useContext(L.QO),H=K(),q=r.createElement("div",{className:R},M,B,G,x&&r.createElement(pe.Ay,{motionName:"".concat(H,"-fade"),visible:"uploading"===N,motionDeadline:2e3},(e=>{let{className:t}=e;const i="percent"in c?r.createElement(vt,Object.assign({},h,{type:"line",percent:c.percent,"aria-label":c["aria-label"],"aria-labelledby":c["aria-labelledby"]})):null;return r.createElement("div",{className:o()("".concat(n,"-list-item-progress"),t)},i)}))),W=c.response&&"string"===typeof c.response?c.response:(null===(T=c.error)||void 0===T?void 0:T.statusText)||(null===(I=c.error)||void 0===I?void 0:I.message)||s.uploadError,Q="error"===N?r.createElement(Ye.A,{title:W,getPopupContainer:e=>e.parentNode},q):q;return r.createElement("div",{className:o()("".concat(n,"-list-item-container"),i),style:a,ref:t},p?p(Q,c,u,{download:C.bind(null,c),preview:S.bind(null,c),remove:A.bind(null,c)}):Q)})),bt=yt,wt=(e,t)=>{const{listType:n="text",previewFile:a=Te,onPreview:s,onDownload:l,onRemove:c,locale:u,iconRender:h,isImageUrl:d=Ce,prefixCls:f,items:p=[],showPreviewIcon:g=!0,showRemoveIcon:m=!0,showDownloadIcon:v=!1,removeIcon:y,previewIcon:b,downloadIcon:w,progress:E={size:[-1,2],showInfo:!1},appendAction:S,appendActionVisible:C=!0,itemRender:A,disabled:T}=e,I=(0,ge.A)(),[k,N]=r.useState(!1);r.useEffect((()=>{"picture"!==n&&"picture-card"!==n&&"picture-circle"!==n||(p||[]).forEach((e=>{"undefined"!==typeof document&&"undefined"!==typeof window&&window.FileReader&&window.File&&(e.originFileObj instanceof File||e.originFileObj)&&void 0===e.thumbUrl&&a&&a(e.originFileObj).then((t=>{e.thumbUrl=t||"",I()}))}))}),[n,p,a]),r.useEffect((()=>{N(!0)}),[]);const D=(e,t)=>{if(s)return null===t||void 0===t||t.preventDefault(),s(e)},x=e=>{"function"===typeof l?l(e):e.url&&window.open(e.url)},O=e=>{null===c||void 0===c||c(e)},_=e=>{if(h)return h(e,n);const t="uploading"===e.status,i=d&&d(e)?r.createElement(fe,null):r.createElement(se,null);let a=t?r.createElement(oe.A,null):r.createElement(ue,null);return"picture"===n?a=t?r.createElement(oe.A,null):i:"picture-card"!==n&&"picture-circle"!==n||(a=t?u.uploading:i),a},M=(e,t,n,i,a)=>{const s={type:"text",size:"small",title:i,onClick:n=>{var i,a;t(),r.isValidElement(e)&&(null===(a=(i=e.props).onClick)||void 0===a||a.call(i,n))},className:"".concat(n,"-list-item-action")};if(a&&(s.disabled=T),r.isValidElement(e)){const t=(0,ve.Ob)(e,Object.assign(Object.assign({},e.props),{onClick:()=>{}}));return r.createElement(ye.Ay,Object.assign({},s,{icon:t}))}return r.createElement(ye.Ay,Object.assign({},s),r.createElement("span",null,e))};r.useImperativeHandle(t,(()=>({handlePreview:D,handleDownload:x})));const{getPrefixCls:R}=r.useContext(L.QO),P=R("upload",f),F=R(),V=o()("".concat(P,"-list"),"".concat(P,"-list-").concat(n)),U=(0,i.A)(p.map((e=>({key:e.uid,file:e})))),j="picture-card"===n||"picture-circle"===n?"animate-inline":"animate";let B={motionDeadline:2e3,motionName:"".concat(P,"-").concat(j),keys:U,motionAppear:k};const z=r.useMemo((()=>{const e=Object.assign({},(0,me.A)(F));return delete e.onAppearEnd,delete e.onEnterEnd,delete e.onLeaveEnd,e}),[F]);return"picture-card"!==n&&"picture-circle"!==n&&(B=Object.assign(Object.assign({},z),B)),r.createElement("div",{className:V},r.createElement(pe.aF,Object.assign({},B,{component:!1}),(e=>{let{key:t,file:i,className:a,style:s}=e;return r.createElement(bt,{key:t,locale:u,prefixCls:P,className:a,style:s,file:i,items:p,progress:E,listType:n,isImgUrl:d,showPreviewIcon:g,showRemoveIcon:m,showDownloadIcon:v,removeIcon:y,previewIcon:b,downloadIcon:w,iconRender:_,actionIconRender:M,itemRender:A,onPreview:D,onDownload:x,onClose:O})})),S&&r.createElement(pe.Ay,Object.assign({},B,{visible:C,forceRender:!0}),(e=>{let{className:t,style:n}=e;return(0,ve.Ob)(S,(e=>({className:o()(e.className,t),style:Object.assign(Object.assign(Object.assign({},n),{pointerEvents:t?"none":void 0}),e.style)})))})))};const Et=r.forwardRef(wt);var St=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Ct="__LIST_IGNORE_".concat(Date.now(),"__"),At=(e,t)=>{const{fileList:n,defaultFileList:s,onRemove:l,showUploadList:c=!0,listType:u="text",onPreview:h,onDownload:d,onChange:f,onDrop:p,previewFile:g,disabled:m,locale:v,iconRender:y,isImageUrl:b,progress:w,prefixCls:E,className:S,type:C="select",children:A,style:T,itemRender:I,maxCount:k,data:N={},multiple:D=!1,hasControlInside:x=!0,action:O="",accept:_="",supportServerRender:M=!0,rootClassName:j}=e,B=r.useContext(F.A),z=null!==m&&void 0!==m?m:B,[G,K]=(0,P.A)(s||[],{value:n,postState:e=>null!==e&&void 0!==e?e:[]}),[H,q]=r.useState("drop"),W=r.useRef(null);r.useMemo((()=>{const e=Date.now();(n||[]).forEach(((t,n)=>{t.uid||Object.isFrozen(t)||(t.uid="__AUTO__".concat(e,"_").concat(n,"__"))}))}),[n]);const Q=(e,t,n)=>{let r=(0,i.A)(t),s=!1;1===k?r=r.slice(-1):k&&(s=r.length>k,r=r.slice(0,k)),(0,a.flushSync)((()=>{K(r)}));const o={file:e,fileList:r};n&&(o.event=n),s&&"removed"!==e.status&&!r.some((t=>t.uid===e.uid))||(0,a.flushSync)((()=>{null===f||void 0===f||f(o)}))},X=e=>{const t=e.filter((e=>!e.file[Ct]));if(!t.length)return;const n=t.map((e=>be(e.file)));let r=(0,i.A)(G);n.forEach((e=>{r=we(e,r)})),n.forEach(((e,n)=>{let i=e;if(t[n].parsedFile)e.status="uploading";else{const{originFileObj:t}=e;let n;try{n=new File([t],t.name,{type:t.type})}catch(a){n=new Blob([t],{type:t.type}),n.name=t.name,n.lastModifiedDate=new Date,n.lastModified=(new Date).getTime()}n.uid=e.uid,i=n}Q(i,r)}))},J=(e,t,n)=>{try{"string"===typeof e&&(e=JSON.parse(e))}catch(a){}if(!Ee(t,G))return;const r=be(t);r.status="done",r.percent=100,r.response=e,r.xhr=n;const i=we(r,G);Q(r,i)},Y=(e,t)=>{if(!Ee(t,G))return;const n=be(t);n.status="uploading",n.percent=e.percent;const r=we(n,G);Q(n,r,e)},Z=(e,t,n)=>{if(!Ee(n,G))return;const r=be(n);r.error=e,r.response=t,r.status="error";const i=we(r,G);Q(r,i)},$=e=>{let t;Promise.resolve("function"===typeof l?l(e):l).then((n=>{var r;if(!1===n)return;const i=function(e,t){const n=void 0!==e.uid?"uid":"name",r=t.filter((t=>t[n]!==e[n]));return r.length===t.length?null:r}(e,G);i&&(t=Object.assign(Object.assign({},e),{status:"removed"}),null===G||void 0===G||G.forEach((e=>{const n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")})),null===(r=W.current)||void 0===r||r.abort(t),Q(t,i))}))},ee=e=>{q(e.type),"drop"===e.type&&(null===p||void 0===p||p(e))};r.useImperativeHandle(t,(()=>({onBatchStart:X,onSuccess:J,onProgress:Y,onError:Z,fileList:G,upload:W.current})));const{getPrefixCls:te,direction:re,upload:ie}=r.useContext(L.QO),ae=te("upload",E),se=Object.assign(Object.assign({onBatchStart:X,onError:Z,onProgress:Y,onSuccess:J},e),{data:N,multiple:D,action:O,accept:_,supportServerRender:M,prefixCls:ae,disabled:z,beforeUpload:(t,n)=>St(void 0,void 0,void 0,(function*(){const{beforeUpload:r,transformFile:i}=e;let a=t;if(r){const e=yield r(t,n);if(!1===e)return!1;if(delete t[Ct],e===Ct)return Object.defineProperty(t,Ct,{value:!0,configurable:!0}),!1;"object"===typeof e&&e&&(a=e)}return i&&(a=yield i(a)),a})),onChange:void 0,hasControlInside:x});delete se.className,delete se.style,A&&!z||delete se.id;const oe="".concat(ae,"-wrapper"),[le,ce,ue]=ne(ae,oe),[he]=(0,V.A)("Upload",U.A.Upload),{showRemoveIcon:de,showPreviewIcon:fe,showDownloadIcon:pe,removeIcon:ge,previewIcon:me,downloadIcon:ve}="boolean"===typeof c?{}:c,ye="undefined"===typeof de?!z:!!de,Se=(e,t)=>c?r.createElement(Et,{prefixCls:ae,listType:u,items:G,previewFile:g,onPreview:h,onDownload:d,onRemove:$,showRemoveIcon:ye,showPreviewIcon:fe,showDownloadIcon:pe,removeIcon:ge,previewIcon:me,downloadIcon:ve,iconRender:y,locale:Object.assign(Object.assign({},he),v),isImageUrl:b,progress:w,appendAction:e,appendActionVisible:t,itemRender:I,disabled:z}):e,Ce=o()(oe,S,j,ce,ue,null===ie||void 0===ie?void 0:ie.className,{["".concat(ae,"-rtl")]:"rtl"===re,["".concat(ae,"-picture-card-wrapper")]:"picture-card"===u,["".concat(ae,"-picture-circle-wrapper")]:"picture-circle"===u}),Ae=Object.assign(Object.assign({},null===ie||void 0===ie?void 0:ie.style),T);if("drag"===C){const e=o()(ce,ae,"".concat(ae,"-drag"),{["".concat(ae,"-drag-uploading")]:G.some((e=>"uploading"===e.status)),["".concat(ae,"-drag-hover")]:"dragover"===H,["".concat(ae,"-disabled")]:z,["".concat(ae,"-rtl")]:"rtl"===re});return le(r.createElement("span",{className:Ce},r.createElement("div",{className:e,style:Ae,onDrop:ee,onDragOver:ee,onDragLeave:ee},r.createElement(R,Object.assign({},se,{ref:W,className:"".concat(ae,"-btn")}),r.createElement("div",{className:"".concat(ae,"-drag-container")},A))),Se()))}const Te=o()(ae,"".concat(ae,"-select"),{["".concat(ae,"-disabled")]:z}),Ie=r.createElement("div",{className:Te,style:A?void 0:{display:"none"}},r.createElement(R,Object.assign({},se,{ref:W})));return le("picture-card"===u||"picture-circle"===u?r.createElement("span",{className:Ce},Se(Ie,!!A)):r.createElement("span",{className:Ce},Ie,Se()))};const Tt=r.forwardRef(At);var It=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const kt=r.forwardRef(((e,t)=>{var{style:n,height:i,hasControlInside:a=!1}=e,s=It(e,["style","height","hasControlInside"]);return r.createElement(Tt,Object.assign({ref:t,hasControlInside:a},s,{type:"drag",style:Object.assign(Object.assign({},n),{height:i})}))}));const Nt=kt,Dt=Tt;Dt.Dragger=Nt,Dt.LIST_IGNORE=Ct;const xt=Dt},7843:function(e,t,n){class r{constructor(){this.data=n(8920),this.labelMap={},this.valueMap={},this.data.forEach((e=>{this.labelMap[e.label.toLowerCase()]=e.value,this.valueMap[e.value.toLowerCase()]=e.label}))}getValue(e){return this.labelMap[e.toLowerCase()]}getLabel(e){return this.valueMap[e.toLowerCase()]}getLabels(){return this.data.map((e=>e.label))}getValues(){return this.data.map((e=>e.value))}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(e,t){return this.data.forEach((n=>{n.value===e&&(n.label=t,this.valueMap[n.value.toLowerCase()]=n.label)})),this}setEmpty(e){return this.data.unshift({value:"",label:e}),this.valueMap[""]=e,this.labelMap[e]="",this}native(){return this.nativeData=n(8036),this.nativeData.forEach((e=>{this.labelMap[e.label.toLowerCase()]=e.value,this.valueMap[e.value.toLowerCase()]=e.label})),this}}e.exports=()=>{if(!(this instanceof r))return new r}},6032:(e,t,n)=>{"use strict";n.d(t,{H9:()=>cc,aU:()=>dc,BN:()=>Lc});var r,i=n(52),a=n(8812),s=n(443),o=n(7700),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={},u=u||{},h=l||self;function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}E.prototype.s=!1,E.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,p)&&e[p]||(e[p]=++g))},E.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function C(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(d(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function T(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};h.addEventListener("test",e,t),h.removeEventListener("test",e,t)}catch(n){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function N(){var e=h.navigator;return e&&(e=e.userAgent)?e:""}function D(e){return-1!=N().indexOf(e)}function x(e){return x[" "](e),e}x[" "]=function(){};var O,_,M=D("Opera"),R=D("Trident")||D("MSIE"),P=D("Edge"),L=P||R,F=D("Gecko")&&!(-1!=N().toLowerCase().indexOf("webkit")&&!D("Edge"))&&!(D("Trident")||D("MSIE"))&&!D("Edge"),V=-1!=N().toLowerCase().indexOf("webkit")&&!D("Edge");function U(){var e=h.document;return e?e.documentMode:void 0}e:{var j="",B=function(){var e=N();return F?/rv:([^\);]+)(\)|;)/.exec(e):P?/Edge\/([\d\.]+)/.exec(e):R?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):V?/WebKit\/(\S+)/.exec(e):M?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(B&&(j=B?B[1]:""),R){var z=U();if(null!=z&&z>parseFloat(j)){O=String(z);break e}}O=j}if(h.document&&R){var G=U();_=G||(parseInt(O,10)||void 0)}else _=void 0;var K=_;function H(e,t){if(T.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(F){e:{try{x(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.$.h.call(this)}}w(H,T);var q={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),Q=0;function X(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Q,this.fa=this.ia=!1}function J(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Z(e){const t={};for(const n in e)t[n]=e[n];return t}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<$.length;t++)n=$[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){this.src=e,this.g={},this.h=0}function ne(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=S(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(J(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function re(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}te.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=re(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new X(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),ae={};function se(e,t,n,r,i){if(r&&r.once)return le(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)se(e,t[a],n,r,i);return null}return n=ge(n),e&&e[W]?e.O(t,n,f(r)?!!r.capture:!!r,i):oe(e,t,n,!1,r,i)}function oe(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i,o=fe(e);if(o||(e[ie]=o=new te(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=de;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)I||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(he(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function le(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)le(e,t[a],n,r,i);return null}return n=ge(n),e&&e[W]?e.P(t,n,f(r)?!!r.capture:!!r,i):oe(e,t,n,!0,r,i)}function ce(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ce(e,t[a],n,r,i);else r=f(r)?!!r.capture:!!r,n=ge(n),e&&e[W]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=re(a=e.g[t],n,r,i))&&(J(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=re(t,n,r,i)),(n=-1<e?t[e]:null)&&ue(n))}function ue(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[W])ne(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(he(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fe(t))?(ne(n,e),0==n.h&&(n.src=null,t[ie]=null)):J(e)}}}function he(e){return e in ae?ae[e]:ae[e]="on"+e}function de(e,t){if(e.fa)e=!0;else{t=new H(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ue(e),e=n.call(r,t)}return e}function fe(e){return(e=e[ie])instanceof te?e:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(e){return"function"===typeof e?e:(e[pe]||(e[pe]=function(t){return e.handleEvent(t)}),e[pe])}function me(){E.call(this),this.i=new te(this),this.S=this,this.J=null}function ve(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new T(t,e);else if(t instanceof T)t.target=t.target||e;else{var i=t;ee(t=new T(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ye(s,r,!0,t)&&i}if(i=ye(s=t.g=e,r,!0,t)&&i,i=ye(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ye(s=t.g=n[a],r,!1,t)&&i}function ye(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.fa&&s.capture==n){var o=s.listener,l=s.la||s.src;s.ia&&ne(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}w(me,E),me.prototype[W]=!0,me.prototype.removeEventListener=function(e,t,n,r){ce(this,e,t,n,r)},me.prototype.N=function(){if(me.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)J(n[r]);delete t.g[e],t.h--}}this.J=null},me.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},me.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var be=h.JSON.stringify;function we(){var e=ke;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ee=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Se),(e=>e.reset()));class Se{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ce(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e){h.setTimeout((()=>{throw e}),0)}let Te,Ie=!1,ke=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ee.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ne=()=>{const e=h.Promise.resolve(void 0);Te=()=>{e.then(De)}};var De=()=>{for(var e;e=we();){try{e.h.call(e.g)}catch(n){Ae(n)}var t=Ee;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ie=!1};function xe(e,t){me.call(this),this.h=e||1,this.g=t||h,this.j=y(this.qb,this),this.l=Date.now()}function Oe(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function _e(e,t,n){if("function"===typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Me(e){e.g=_e((()=>{e.g=null,e.i&&(e.i=!1,Me(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}w(xe,me),(r=xe.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Oe(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){xe.$.N.call(this),Oe(this),delete this.g};class Re extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(e){E.call(this),this.h=e,this.g={}}w(Pe,E);var Le=[];function Fe(e,t,n,r){Array.isArray(n)||(n&&(Le[0]=n.toString()),n=Le);for(var i=0;i<n.length;i++){var a=se(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ve(e){Y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ue(e)}),e),e.g={}}function Ue(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return be(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Pe.prototype.N=function(){Pe.$.N.call(this),Ve(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ue.prototype.Ea=function(){this.g=!1},Ue.prototype.info=function(){};var Be={},ze=null;function Ge(){return ze=ze||new me}function Ke(e){T.call(this,Be.Ta,e)}function He(e){const t=Ge();ve(t,new Ke(t))}function qe(e,t){T.call(this,Be.STAT_EVENT,e),this.stat=t}function We(e){const t=Ge();ve(t,new qe(t,e))}function Qe(e,t){T.call(this,Be.Ua,e),this.size=t}function Xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Be.Ta="serverreachability",w(Ke,T),Be.STAT_EVENT="statevent",w(qe,T),Be.Ua="timingevent",w(Qe,T);var Je={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ye={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ze(){}function $e(e){return e.h||(e.h=e.i())}function et(){}Ze.prototype.h=null;var tt,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){T.call(this,"d")}function it(){T.call(this,"c")}function at(){}function st(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Pe(this),this.P=lt,e=L?125:void 0,this.V=new xe(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}w(rt,T),w(it,T),w(at,Ze),at.prototype.g=function(){return new XMLHttpRequest},at.prototype.i=function(){return{}},tt=new at;var lt=45e3,ct={},ut={};function ht(e,t,n){e.L=1,e.A=xt(Tt(t)),e.u=n,e.S=!0,dt(e,null)}function dt(e,t){e.G=Date.now(),mt(e),e.B=Tt(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Gt(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ot,e.g=Hn(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Re(y(e.Pa,e,e.g),e.O)),Fe(e.U,e.g,"readystatechange",e.nb),t=e.I?Z(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),He(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ft(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function pt(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=gt(e,n),r==ut){4==t&&(e.s=4,We(14),i=!1),je(e.j,e.m,null,"[Incomplete Response]");break}if(r==ct){e.s=4,We(15),je(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}je(e.j,e.m,r,null),Et(e,r)}ft(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,We(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fn(t),t.M=!0,We(11))):(je(e.j,e.m,n,"[Invalid Chunked Response]"),wt(e),bt(e))}function gt(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?ut:(n=Number(t.substring(n,r)),isNaN(n)?ct:(r+=1)+n>t.length?ut:(t=t.slice(r,r+n),e.o=r+n,t))}function mt(e){e.Y=Date.now()+e.P,vt(e,e.P)}function vt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Xe(y(e.lb,e),t)}function yt(e){e.C&&(h.clearTimeout(e.C),e.C=null)}function bt(e){0==e.l.H||e.J||jn(e.l,e)}function wt(e){yt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Oe(e.V),Ve(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Et(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Jt(n.i,e)))if(!e.K&&Jt(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Un(n),Dn(n)}Ln(n),We(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xe(y(n.ib,n),6e3));if(1>=Xt(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else zn(n,11)}else if((e.K||n.g==e)&&Un(n),!k(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Yt(a,a.h),a.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Dt(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Kn(r,r.J?r.pa:null,r.Y),s.K){Zt(r.i,s);var o=s,l=r.L;l&&o.setTimeout(l),o.C&&(yt(o),mt(o)),r.g=s}else Pn(r);0<n.j.length&&On(n)}else"stop"!=c[0]&&"close"!=c[0]||zn(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zn(n,7):Nn(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}He()}catch(c){}}function St(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(r=st.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==Sn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const u=Sn(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||L||this.g&&(this.h.h||this.g.ja()||Cn(this.g)))){this.J||4!=u||7==t||He(),yt(this);var n=this.g.da();this.ca=n;t:if(ft(this)){var r=Cn(this.g);e="";var i=r.length,a=4==Sn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wt(this),bt(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,We(12),wt(this),bt(this);break e}je(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Et(this,n)}this.S?(pt(this,u,s),L&&this.i&&3==u&&(Fe(this.U,this.V,"tick",this.mb),this.V.start())):(je(this.j,this.m,s,null),Et(this,s)),4==u&&wt(this),this.i&&!this.J&&(4==u?jn(this.l,this):(this.i=!1,mt(this)))}else(function(e){const t={};e=(e.g&&2<=Sn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Ce(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),wt(this),bt(this)}}}catch(u){}},r.mb=function(){if(this.g){var e=Sn(this.g),t=this.g.ja();this.o<t.length&&(yt(this),pt(this,e,t),this.i&&4!=e&&mt(this))}},r.cancel=function(){this.J=!0,wt(this)},r.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(He(),We(17)),wt(this),this.s=2,bt(this)):vt(this,this.Y-e)};var Ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function At(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof At){this.h=e.h,It(this,e.j),this.s=e.s,this.g=e.g,kt(this,e.m),this.l=e.l;var t=e.i,n=new Ut;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nt(this,n),this.o=e.o}else e&&(t=String(e).match(Ct))?(this.h=!1,It(this,t[1]||"",!0),this.s=Ot(t[2]||""),this.g=Ot(t[3]||"",!0),kt(this,t[4]),this.l=Ot(t[5]||"",!0),Nt(this,t[6]||"",!0),this.o=Ot(t[7]||"")):(this.h=!1,this.i=new Ut(null,this.h))}function Tt(e){return new At(e)}function It(e,t,n){e.j=n?Ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nt(e,t,n){t instanceof Ut?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bt(this,t),Gt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=_t(t,Ft)),e.i=new Ut(t,e.h))}function Dt(e,t,n){e.i.set(t,n)}function xt(e){return Dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _t(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_t(t,Rt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_t(t,Rt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_t(n,"/"==n.charAt(0)?Lt:Pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_t(n,Vt)),e.join("")};var Rt=/[#\/\?@]/g,Pt=/[#\?:]/g,Lt=/[#\?]/g,Ft=/[#\?@]/g,Vt=/#/g;function Ut(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bt(e,t){jt(e),t=Kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zt(e,t){return jt(e),t=Kt(e,t),e.g.has(t)}function Gt(e,t,n){Bt(e,t),0<n.length&&(e.i=null,e.g.set(Kt(e,t),C(n)),e.h+=n.length)}function Kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Ut.prototype).add=function(e,t){jt(this),this.i=null,e=Kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){jt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){jt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){jt(this);let t=[];if("string"===typeof e)zt(this,e)&&(t=t.concat(this.g.get(Kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return jt(this),this.i=null,zt(this,e=Kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Ht=class{constructor(e,t){this.g=e,this.map=t}};function qt(e){this.l=e||Wt,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wt=10;function Qt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xt(e){return e.h?1:e.g?e.g.size:0}function Jt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yt(e,t){e.g?e.g.add(t):e.h=t}function Zt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $t(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return C(e.i)}qt.prototype.cancel=function(){if(this.i=$t(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var en,tn=class{stringify(e){return h.JSON.stringify(e,void 0)}parse(e){return h.JSON.parse(e,void 0)}};function nn(){this.g=new tn}function rn(e,t,n){const r=n||"";try{St(e,(function(e,n){let i=e;f(e)&&(i=be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function an(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function sn(e){this.l=e.ec||null,this.j=e.ob||!1}function on(e,t){me.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ln,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w(sn,Ze),sn.prototype.g=function(){return new on(this.l,this.j)},sn.prototype.i=(en={},function(){return en}),w(on,me);var ln=0;function cn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function un(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hn(e)}function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=on.prototype).open=function(e,t){if(this.readyState!=ln)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||h).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,un(this)),this.readyState=ln},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?un(this):hn(this),3==this.readyState&&cn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,un(this))},r.Ya=function(e){this.g&&(this.response=e,un(this))},r.ka=function(){this.g&&un(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(on.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dn=h.JSON.parse;function fn(e){me.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pn,this.L=this.M=!1}w(fn,me);var pn="",gn=/^https?$/i,mn=["POST","PUT"];function vn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yn(e),wn(e)}function yn(e){e.F||(e.F=!0,ve(e,"complete"),ve(e,"error"))}function bn(e){if(e.h&&"undefined"!=typeof u&&(!e.C[1]||4!=Sn(e)||2!=e.da()))if(e.v&&4==Sn(e))_e(e.La,0,e);else if(ve(e,"readystatechange"),4==Sn(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Ct)[1]||null;!i&&h.self&&h.self.location&&(i=h.self.location.protocol.slice(0,-1)),r=!gn.test(i?i.toLowerCase():"")}n=r}if(n)ve(e,"complete"),ve(e,"success");else{e.m=6;try{var a=2<Sn(e)?e.g.statusText:""}catch(s){a=""}e.j=a+" ["+e.da()+"]",yn(e)}}finally{wn(e)}}}function wn(e,t){if(e.g){En(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ve(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function En(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function Sn(e){return e.g?e.g.readyState:0}function Cn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case pn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Dr){return null}}function An(e){let t="";return Y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=An(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dt(e,t,n))}function In(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.Ga=0,this.j=[],this.l=new Ue,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=In("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=In("baseRetryDelayMs",5e3,e),this.hb=In("retryDelaySeedMs",1e4,e),this.eb=In("forwardChannelMaxRetries",2,e),this.xa=In("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qt(e&&e.concurrentRequestLimit),this.Ja=new nn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nn(e){if(xn(e),3==e.H){var t=e.W++,n=Tt(e.I);if(Dt(n,"SID",e.K),Dt(n,"RID",t),Dt(n,"TYPE","terminate"),Mn(e,n),(t=new st(e,e.l,t)).L=2,t.A=xt(Tt(n)),n=!1,h.navigator&&h.navigator.sendBeacon)try{n=h.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&h.Image&&((new Image).src=t.A,n=!0),n||(t.g=Hn(t.l,null),t.g.ha(t.A)),t.G=Date.now(),mt(t)}Gn(e)}function Dn(e){e.g&&(Fn(e),e.g.cancel(),e.g=null)}function xn(e){Dn(e),e.u&&(h.clearTimeout(e.u),e.u=null),Un(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function On(e){if(!Qt(e.i)&&!e.m){e.m=!0;var t=e.Na;Te||Ne(),Ie||(Te(),Ie=!0),ke.add(t,e),e.C=0}}function _n(e,t){var n;n=t?t.m:e.W++;const r=Tt(e.I);Dt(r,"SID",e.K),Dt(r,"RID",n),Dt(r,"AID",e.V),Mn(e,r),e.o&&e.s&&Tn(r,e.o,e.s),n=new st(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Rn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yt(e.i,n),ht(n,r,t)}function Mn(e,t){e.na&&Y(e.na,(function(e,n){Dt(t,n,e)})),e.h&&St({},(function(e,n){Dt(t,n,e)}))}function Rn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?y(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{rn(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Pn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Te||Ne(),Ie||(Te(),Ie=!0),ke.add(t,e),e.A=0}}function Ln(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Xe(y(e.Ma,e),Bn(e,e.A)),e.A++,!0)}function Fn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Vn(e){e.g=new st(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Tt(e.wa);Dt(t,"RID","rpc"),Dt(t,"SID",e.K),Dt(t,"AID",e.V),Dt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Dt(t,"TO",e.qa),Dt(t,"TYPE","xmlhttp"),Mn(e,t),e.o&&e.s&&Tn(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=xt(Tt(t)),n.u=null,n.S=!0,dt(n,e)}function Un(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function jn(e,t){var n=null;if(e.g==t){Un(e),Fn(e),e.g=null;var r=2}else{if(!Jt(e.i,t))return;n=t.F,Zt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ve(r=Ge(),new Qe(r,n)),On(e)}else Pn(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Xt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Xe(y(e.Na,e,t),Bn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ln(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zn(e,5);break;case 4:zn(e,10);break;case 3:zn(e,6);break;default:zn(e,2)}}function Bn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function zn(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=y(e.pb,e);n||(n=new At("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||It(n,"https"),xt(n)),function(e,t){const n=new Ue;if(h.Image){const r=new Image;r.onload=b(an,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(an,n,r,"TestLoadImage: error",!1,t),r.onabort=b(an,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(an,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else We(2);e.H=0,e.h&&e.h.za(t),Gn(e),xn(e)}function Gn(e){if(e.H=0,e.ma=[],e.h){const t=$t(e.i);0==t.length&&0==e.j.length||(A(e.ma,t),A(e.ma,e.j),e.i.i.length=0,C(e.j),e.j.length=0),e.h.ya()}}function Kn(e,t,n){var r=n instanceof At?Tt(n):new At(n);if(""!=r.g)t&&(r.g=t+"."+r.g),kt(r,r.m);else{var i=h.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new At(null);r&&It(a,r),t&&(a.g=t),i&&kt(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Dt(r,n,t),Dt(r,"VER",e.ra),Mn(e,r),r}function Hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new fn(new sn({ob:n})):new fn(e.va)).Oa(e.J),t}function qn(){}function Wn(){if(R&&!(10<=Number(K)))throw Error("Environmental error: no available transport.")}function Qn(e,t){me.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!k(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yn(this)}function Xn(e){rt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jn(){it.call(this),this.status=1}function Yn(e){this.g=e}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function er(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(r=fn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tt.g(),this.C=this.u?$e(this.u):$e(tt),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(a){return void vn(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=h.FormData&&e instanceof h.FormData,!(0<=S(mn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{En(this),0<this.B&&((this.L=function(e){return R&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=_e(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){vn(this,a)}},r.ua=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ve(this,"complete"),ve(this,"abort"),wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wn(this,!0)),fn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?bn(this):this.kb())},r.kb=function(){bn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<Sn(this)?this.g.status:-1}catch(en){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=kn.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new st(this,this.l,e);let a=this.s;if(this.U&&(a?(a=Z(a),ee(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Rn(this,i,t),Dt(n=Tt(this.I),"RID",e),Dt(n,"CVER",22),this.F&&Dt(n,"X-HTTP-Session-Id",this.F),Mn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(An(a)))+"&"+t:this.o&&Tn(n,this.o,a)),Yt(this.i,i),this.bb&&Dt(n,"TYPE","init"),this.P?(Dt(n,"$req",t),Dt(n,"SID","null"),i.aa=!0,ht(i,n,null)):ht(i,n,t),this.H=2}}else 3==this.H&&(e?_n(this,e):0==this.j.length||Qt(this.i)||_n(this))},r.Ma=function(){if(this.u=null,Vn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Xe(y(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),Dn(this),Vn(this))},r.ib=function(){null!=this.v&&(this.v=null,Dn(this),Ln(this),We(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=qn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Wn.prototype.g=function(e,t){return new Qn(e,t)},w(Qn,me),Qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;We(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Kn(e,null,e.Y),On(e)},Qn.prototype.close=function(){Nn(this.g)},Qn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=be(e),e=n);t.j.push(new Ht(t.fb++,e)),3==t.H&&On(t)},Qn.prototype.N=function(){this.g.h=null,delete this.j,Nn(this.g),delete this.g,Qn.$.N.call(this)},w(Xn,rt),w(Jn,it),w(Yn,qn),Yn.prototype.Ba=function(){ve(this.g,"a")},Yn.prototype.Aa=function(e){ve(this.g,new Xn(e))},Yn.prototype.za=function(e){ve(this.g,new Jn)},Yn.prototype.ya=function(){ve(this.g,"b")},w(Zn,(function(){this.blockSize=-1})),Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)$n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){$n(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){$n(this,r),i=0;break}}this.h=i,this.i+=t},Zn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var tr={};function nr(e){return-128<=e&&128>e?function(e,t){var n=tr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new er([0|e],0>e?-1:0)})):new er([0|e],0>e?-1:0)}function rr(e){if(isNaN(e)||!isFinite(e))return ar;if(0>e)return ur(rr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ir;return new er(t,0)}var ir=4294967296,ar=nr(0),sr=nr(1),or=nr(16777216);function lr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function cr(e){return-1==e.h}function ur(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new er(n,~e.h).add(sr)}function hr(e,t){return e.add(ur(t))}function dr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function fr(e,t){this.g=e,this.h=t}function pr(e,t){if(lr(t))throw Error("division by zero");if(lr(e))return new fr(ar,ar);if(cr(e))return t=pr(ur(e),t),new fr(ur(t.g),ur(t.h));if(cr(t))return t=pr(e,ur(t)),new fr(ur(t.g),t.h);if(30<e.g.length){if(cr(e)||cr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=sr,r=t;0>=r.X(e);)n=gr(n),r=gr(r);var i=mr(n,1),a=mr(r,1);for(r=mr(r,2),n=mr(n,2);!lr(r);){var s=a.add(r);0>=s.X(e)&&(i=i.add(n),a=s),r=mr(r,1),n=mr(n,1)}return t=hr(e,i.R(t)),new fr(i,t)}for(i=ar;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=rr(n)).R(t);cr(s)||0<s.X(e);)s=(a=rr(n-=r)).R(t);lr(a)&&(a=sr),i=i.add(a),e=hr(e,s)}return new fr(i,e)}function gr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new er(n,e.h)}function mr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new er(i,e.h)}(r=er.prototype).ea=function(){if(cr(this))return-ur(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ir+r)*t,t*=ir}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(lr(this))return"0";if(cr(this))return"-"+ur(this).toString(e);for(var t=rr(Math.pow(e,6)),n=this,r="";;){var i=pr(n,t).g,a=((0<(n=hr(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(lr(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return cr(e=hr(this,e))?-1:lr(e)?0:1},r.abs=function(){return cr(this)?ur(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),s=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new er(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(lr(this)||lr(e))return ar;if(cr(this))return cr(e)?ur(this).R(ur(e)):ur(ur(this).R(e));if(cr(e))return ur(this.R(ur(e)));if(0>this.X(or)&&0>e.X(or))return rr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,s=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,dr(n,2*r+2*i),n[2*r+2*i+1]+=a*l,dr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*o,dr(n,2*r+2*i+1),n[2*r+2*i+2]+=a*o,dr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new er(n,0)},r.gb=function(e){return pr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new er(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new er(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new er(n,this.h^e.h)},Wn.prototype.createWebChannel=Wn.prototype.g,Qn.prototype.send=Qn.prototype.u,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,Ye.COMPLETE="complete",et.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",me.prototype.listen=me.prototype.O,fn.prototype.listenOnce=fn.prototype.P,fn.prototype.getLastError=fn.prototype.Sa,fn.prototype.getLastErrorCode=fn.prototype.Ia,fn.prototype.getStatus=fn.prototype.da,fn.prototype.getResponseJson=fn.prototype.Wa,fn.prototype.getResponseText=fn.prototype.ja,fn.prototype.send=fn.prototype.ha,fn.prototype.setWithCredentials=fn.prototype.Oa,Zn.prototype.digest=Zn.prototype.l,Zn.prototype.reset=Zn.prototype.reset,Zn.prototype.update=Zn.prototype.j,er.prototype.add=er.prototype.add,er.prototype.multiply=er.prototype.R,er.prototype.modulo=er.prototype.gb,er.prototype.compare=er.prototype.X,er.prototype.toNumber=er.prototype.ea,er.prototype.toString=er.prototype.toString,er.prototype.getBits=er.prototype.D,er.fromNumber=rr,er.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ur(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=rr(Math.pow(n,8)),i=ar,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=rr(Math.pow(n,s)),i=i.R(s).add(rr(o))):i=(i=i.R(r)).add(rr(o))}return i};var vr=c.createWebChannelTransport=function(){return new Wn},yr=c.getStatEventTarget=function(){return Ge()},br=c.ErrorCode=Je,wr=c.EventType=Ye,Er=c.Event=Be,Sr=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cr=(c.FetchXmlHttpFactory=sn,c.WebChannel=et),Ar=c.XhrIo=fn,Tr=(c.Md5=Zn,c.Integer=er);const Ir="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Nr="10.11.0";const Dr=new s.Vy("@firebase/firestore");function xr(){return Dr.logLevel}function Or(e){if(Dr.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rr);Dr.debug("Firestore (".concat(Nr,"): ").concat(e),...i)}}function _r(e){if(Dr.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rr);Dr.error("Firestore (".concat(Nr,"): ").concat(e),...i)}}function Mr(e){if(Dr.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Rr);Dr.warn("Firestore (".concat(Nr,"): ").concat(e),...i)}}function Rr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Nr,") INTERNAL ASSERTION FAILED: ")+e;throw _r(t),new Error(t)}function Lr(e,t){e||Pr()}function Fr(e,t){return e}const Vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ur extends o.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class jr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Br{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class zr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kr.UNAUTHENTICATED)))}shutdown(){}}class Gr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Kr{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jr,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Or("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Or("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jr)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Or("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Lr("string"==typeof t.accessToken),new Br(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lr(null===e||"string"==typeof e),new kr(e)}}class Hr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Hr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(kr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Or("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Or("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Or("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Or("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Lr("string"==typeof e.token),this.R=e.token,new Wr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Jr{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Xr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Yr(e,t){return e<t?-1:e>t?1:0}function Zr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class $r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ur(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ur(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ur(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ur(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new $r(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yr(this.nanoseconds,e.nanoseconds):Yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new $r(0,0))}static max(){return new ei(new $r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ti{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pr(),void 0===n?n=e.length-t:n>e.length-t&&Pr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ti.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ni extends ti{construct(e,t,n){return new ni(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ur(Vr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ni(e)}static emptyPath(){return new ni([])}}const ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends ti{construct(e,t,n){return new ii(e,t,n)}static isValidIdentifier(e){return ri.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ur(Vr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ur(Vr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ur(Vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Ur(Vr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(t)}static emptyPath(){return new ii([])}}class ai{constructor(e){this.path=e}static fromPath(e){return new ai(ni.fromString(e))}static fromName(e){return new ai(ni.fromString(e).popFirst(5))}static empty(){return new ai(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ni.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ni.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ai(new ni(e.slice()))}}class si{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}si.UNKNOWN_ID=-1;function oi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ei.fromTimestamp(1e9===r?new $r(n+1,0):new $r(n,r));return new ci(i,ai.empty(),t)}function li(e){return new ci(e.readTime,e.key,-1)}class ci{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ci(ei.min(),ai.empty(),-1)}static max(){return new ci(ei.max(),ai.empty(),-1)}}function ui(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ai.comparator(e.documentKey,t.documentKey),0!==n?n:Yr(e.largestBatchId,t.largestBatchId))}const hi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class di{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fi(e){if(e.code!==Vr.FAILED_PRECONDITION||e.message!==hi)throw e;Or("LocalStore","Unexpectedly lost primary lease")}class pi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pi?t:pi.resolve(t)}catch(e){return pi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pi.reject(t)}static resolve(e){return new pi(((t,n)=>{t(e)}))}static reject(e){return new pi(((t,n)=>{n(e)}))}static waitFor(e){return new pi(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=pi.resolve(!1);for(const n of e)t=t.next((e=>e?pi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new pi(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new pi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class gi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new jr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new yi(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ci(t.target.error);this.V.reject(new yi(e,n))}}static open(e,t,n,r){try{return new gi(t,e.transaction(r,n))}catch(e){throw new yi(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Or("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wi(t)}}class mi{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===mi.S((0,o.ZQ)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Or("SimpleDb","Removing database:",e),Ei(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,o.zW)())return!1;if(mi.C())return!0;const e=(0,o.ZQ)(),t=mi.S(e),n=0<t&&t<10,r=mi.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Or("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new yi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ur(Vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ur(Vr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new yi(e,r))},r.onupgradeneeded=e=>{Or("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Or("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.O(e);const t=gi.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),pi.reject(e)))).toPromise();return a.catch((()=>{})),await t.m,a}catch(e){const t=e,n="FirebaseError"!==t.name&&a<3;if(Or("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class vi{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ei(this.k.delete())}}class yi extends Ur{constructor(e,t){super(Vr.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function bi(e){return"IndexedDbTransactionError"===e.name}class wi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Or("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Or("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ei(n)}add(e){return Or("SimpleDb","ADD",this.store.name,e,e),Ei(this.store.add(e))}get(e){return Ei(this.store.get(e)).next((t=>(void 0===t&&(t=null),Or("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Or("SimpleDb","DELETE",this.store.name,e),Ei(this.store.delete(e))}count(){return Or("SimpleDb","COUNT",this.store.name),Ei(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new pi(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new pi(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Or("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new pi(((n,r)=>{t.onerror=e=>{const t=Ci(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new pi(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const a=new vi(i),s=t(i.primaryKey,i.value,a);if(s instanceof pi){const e=s.catch((e=>(a.done(),pi.reject(e))));n.push(e)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}})).next((()=>pi.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ei(e){return new pi(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ci(e.target.error);n(t)}}))}let Si=!1;function Ci(e){const t=mi.S((0,o.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ur("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Si||(Si=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ai{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Ti(e){return null==e}function Ii(e){return 0===e&&1/e==-1/0}function ki(e){return"number"==typeof e&&Number.isInteger(e)&&!Ii(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ai._e=-1;const Ni=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Di=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xi=Di;function Oi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _i(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ri{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new Ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pi(this.root,e,this.comparator,!0)}}class Pi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Li.RED,this.left=null!=r?r:Li.EMPTY,this.right=null!=i?i:Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Li(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Li.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pr();if(this.right.isRed())throw Pr();const e=this.left.check();if(e!==this.right.check())throw Pr();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw Pr()}get value(){throw Pr()}get color(){throw Pr()}get left(){throw Pr()}get right(){throw Pr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vi(this.data.getIterator())}getIteratorFrom(e){return new Vi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Fi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class Vi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ui{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new Ui([])}unionWith(e){let t=new Fi(ii.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ji extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ji("Invalid base64 string: "+e):e}}(e);return new Bi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(e){if(Lr(!!e),"string"==typeof e){let t=0;const n=zi.exec(e);if(Lr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ki(e.seconds),nanos:Ki(e.nanos)}}function Ki(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hi(e){return"string"==typeof e?Bi.fromBase64String(e):Bi.fromUint8Array(e)}function qi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wi(e){const t=e.mapValue.fields.__previous_value__;return qi(t)?Wi(t):t}function Qi(e){const t=Gi(e.mapValue.fields.__local_write_time__.timestampValue);return new $r(t.seconds,t.nanos)}class Xi{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class Ji{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ji("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ji&&e.projectId===this.projectId&&e.database===this.database}}const Yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qi(e)?4:ca(e)?9007199254740991:10:Pr()}function $i(e,t){if(e===t)return!0;const n=Zi(e);if(n!==Zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qi(e).isEqual(Qi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Gi(e.timestampValue),r=Gi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hi(e.bytesValue).isEqual(Hi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ki(e.geoPointValue.latitude)===Ki(t.geoPointValue.latitude)&&Ki(e.geoPointValue.longitude)===Ki(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ki(e.integerValue)===Ki(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ki(e.doubleValue),r=Ki(t.doubleValue);return n===r?Ii(n)===Ii(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zr(e.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Oi(n)!==Oi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$i(n[i],r[i])))return!1;return!0}(e,t);default:return Pr()}}function ea(e,t){return void 0!==(e.values||[]).find((e=>$i(e,t)))}function ta(e,t){if(e===t)return 0;const n=Zi(e),r=Zi(t);if(n!==r)return Yr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ki(e.integerValue||e.doubleValue),r=Ki(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return na(e.timestampValue,t.timestampValue);case 4:return na(Qi(e),Qi(t));case 5:return Yr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hi(e),r=Hi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Yr(n[i],r[i]);if(0!==e)return e}return Yr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Yr(Ki(e.latitude),Ki(t.latitude));return 0!==n?n:Yr(Ki(e.longitude),Ki(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ta(n[i],r[i]);if(e)return e}return Yr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Yi.mapValue&&t===Yi.mapValue)return 0;if(e===Yi.mapValue)return 1;if(t===Yi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Yr(r[s],a[s]);if(0!==e)return e;const t=ta(n[r[s]],i[a[s]]);if(0!==t)return t}return Yr(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Pr()}}function na(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yr(e,t);const n=Gi(e),r=Gi(t),i=Yr(n.seconds,r.seconds);return 0!==i?i:Yr(n.nanos,r.nanos)}function ra(e){return ia(e)}function ia(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Gi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Hi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ai.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ia(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ia(e.fields[i]));return n+"}"}(e.mapValue):Pr()}function aa(e){return!!e&&"integerValue"in e}function sa(e){return!!e&&"arrayValue"in e}function oa(e){return!!e&&"mapValue"in e}function la(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _i(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=la(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=la(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ca(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ua{constructor(e){this.value=e}static empty(){return new ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(t)}setAll(e){let t=ii.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=la(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());oa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_i(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ua(la(this.value))}}function ha(e){const t=[];return _i(e.fields,((e,n)=>{const r=new ii([e]);if(oa(n)){const e=ha(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ui(t)}class da{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new da(e,0,ei.min(),ei.min(),ei.min(),ua.empty(),0)}static newFoundDocument(e,t,n,r){return new da(e,1,t,ei.min(),n,r,0)}static newNoDocument(e,t){return new da(e,2,t,ei.min(),ei.min(),ua.empty(),0)}static newUnknownDocument(e,t){return new da(e,3,t,ei.min(),ei.min(),ua.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ei.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ei.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof da&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new da(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class fa{constructor(e,t){this.position=e,this.inclusive=t}}function pa(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?ai.comparator(ai.fromName(s.referenceValue),n.key):ta(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ga(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$i(e.position[n],t.position[n]))return!1;return!0}class ma{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function va(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ya{}class ba extends ya{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ka(e,t,n):"array-contains"===t?new Oa(e,n):"in"===t?new _a(e,n):"not-in"===t?new Ma(e,n):"array-contains-any"===t?new Ra(e,n):new ba(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Na(e,n):new Da(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ta(t,this.value)):null!==t&&Zi(this.value)===Zi(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wa extends ya{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new wa(e,t)}matches(e){return Ea(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ea(e){return"and"===e.op}function Sa(e){return Ca(e)&&Ea(e)}function Ca(e){for(const t of e.filters)if(t instanceof wa)return!1;return!0}function Aa(e){if(e instanceof ba)return e.field.canonicalString()+e.op.toString()+ra(e.value);if(Sa(e))return e.filters.map((e=>Aa(e))).join(",");{const t=e.filters.map((e=>Aa(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ta(e,t){return e instanceof ba?function(e,t){return t instanceof ba&&e.op===t.op&&e.field.isEqual(t.field)&&$i(e.value,t.value)}(e,t):e instanceof wa?function(e,t){return t instanceof wa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ta(n,t.filters[r])),!0)}(e,t):void Pr()}function Ia(e){return e instanceof ba?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ra(e.value))}(e):e instanceof wa?function(e){return e.op.toString()+" {"+e.getFilters().map(Ia).join(" ,")+"}"}(e):"Filter"}class ka extends ba{constructor(e,t,n){super(e,t,n),this.key=ai.fromName(n.referenceValue)}matches(e){const t=ai.comparator(e.key,this.key);return this.matchesComparison(t)}}class Na extends ba{constructor(e,t){super(e,"in",t),this.keys=xa("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Da extends ba{constructor(e,t){super(e,"not-in",t),this.keys=xa("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ai.fromName(e.referenceValue)))}class Oa extends ba{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sa(t)&&ea(t.arrayValue,this.value)}}class _a extends ba{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ea(this.value.arrayValue,t)}}class Ma extends ba{constructor(e,t){super(e,"not-in",t)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ea(this.value.arrayValue,t)}}class Ra extends ba{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sa(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ea(this.value.arrayValue,e)))}}class Pa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ce=null}}function La(e){return new Pa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fa(e){const t=Fr(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Aa(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ti(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ra(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ra(e))).join(",")),t.ce=e}return t.ce}function Va(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!va(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ta(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ga(e.startAt,t.startAt)&&ga(e.endAt,t.endAt)}class Ua{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ja(e,t,n,r,i,a,s,o){return new Ua(e,t,n,r,i,a,s,o)}function Ba(e){return new Ua(e)}function za(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ga(e){return null!==e.collectionGroup}function Ka(e){const t=Fr(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Fi(ii.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new ma(r,n))})),e.has(ii.keyField().canonicalString())||t.le.push(new ma(ii.keyField(),n))}return t.le}function Ha(e){const t=Fr(e);return t.he||(t.he=qa(t,Ka(e))),t.he}function qa(e,t){if("F"===e.limitType)return La(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ma(e.field,t)}));const n=e.endAt?new fa(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fa(e.startAt.position,e.startAt.inclusive):null;return La(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Wa(e,t,n){return new Ua(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qa(e,t){return Va(Ha(e),Ha(t))&&e.limitType===t.limitType}function Xa(e){return"".concat(Fa(Ha(e)),"|lt:").concat(e.limitType)}function Ja(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ia(e))).join(", "),"]")),Ti(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ra(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ra(e))).join(",")),"Target(".concat(t,")")}(Ha(e)),"; limitType=").concat(e.limitType,")")}function Ya(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ai.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ka(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=pa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ka(e),t))&&!(e.endAt&&!function(e,t,n){const r=pa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ka(e),t))}(e,t)}function Za(e){return(t,n)=>{let r=!1;for(const i of Ka(e)){const e=$a(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $a(e,t,n){const r=e.field.isKeyField()?ai.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ta(r,i):Pr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pr()}}class es{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Mi(this.inner)}size(){return this.innerSize}}const ts=new Ri(ai.comparator);function ns(){return ts}const rs=new Ri(ai.comparator);function is(){let e=rs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function as(e){let t=rs;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ss(){return ls()}function os(){return ls()}function ls(){return new es((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cs=new Ri(ai.comparator),us=new Fi(ai.comparator);function hs(){let e=us;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ds=new Fi(Yr);function fs(){return ds}function ps(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ii(t)?"-0":t}}function gs(e){return{integerValue:""+e}}function ms(e,t){return ki(t)?gs(t):ps(e,t)}class vs{constructor(){this._=void 0}}function ys(e,t,n){return e instanceof Es?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&qi(t)&&(t=Wi(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ss?Cs(e,t):e instanceof As?Ts(e,t):function(e,t){const n=ws(e,t),r=ks(n)+ks(e.Ie);return aa(n)&&aa(e.Ie)?gs(r):ps(e.serializer,r)}(e,t)}function bs(e,t,n){return e instanceof Ss?Cs(e,t):e instanceof As?Ts(e,t):n}function ws(e,t){return e instanceof Is?function(e){return aa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Es extends vs{}class Ss extends vs{constructor(e){super(),this.elements=e}}function Cs(e,t){const n=Ns(t);for(const r of e.elements)n.some((e=>$i(e,r)))||n.push(r);return{arrayValue:{values:n}}}class As extends vs{constructor(e){super(),this.elements=e}}function Ts(e,t){let n=Ns(t);for(const r of e.elements)n=n.filter((e=>!$i(e,r)));return{arrayValue:{values:n}}}class Is extends vs{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ks(e){return Ki(e.integerValue||e.doubleValue)}function Ns(e){return sa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ds{constructor(e,t){this.version=e,this.transformResults=t}}class xs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Os(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _s{}function Ms(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gs(e.key,xs.none()):new Vs(e.key,e.data,xs.none());{const n=e.data,r=ua.empty();let i=new Fi(ii.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Us(e.key,r,new Ui(i.toArray()),xs.none())}}function Rs(e,t,n){e instanceof Vs?function(e,t,n){const r=e.value.clone(),i=Bs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Us?function(e,t,n){if(!Os(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(js(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ps(e,t,n,r){return e instanceof Vs?function(e,t,n,r){if(!Os(e.precondition,t))return n;const i=e.value.clone(),a=zs(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Us?function(e,t,n,r){if(!Os(e.precondition,t))return n;const i=zs(e.fieldTransforms,r,t),a=t.data;return a.setAll(js(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Os(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ls(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ws(r.transform,e||null);null!=i&&(null===n&&(n=ua.empty()),n.set(r.field,i))}return n||null}function Fs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ss&&t instanceof Ss||e instanceof As&&t instanceof As?Zr(e.elements,t.elements,$i):e instanceof Is&&t instanceof Is?$i(e.Ie,t.Ie):e instanceof Es&&t instanceof Es}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vs extends _s{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Us extends _s{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function js(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Bs(e,t,n){const r=new Map;Lr(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,bs(s,o,n[i]))}return r}function zs(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,ys(e,a,t))}return r}class Gs extends _s{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ks extends _s{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hs{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rs(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ps(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ps(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=os();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Ms(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ei.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),hs())}isEqual(e){return this.batchId===e.batchId&&Zr(this.mutations,e.mutations,((e,t)=>Fs(e,t)))&&Zr(this.baseMutations,e.baseMutations,((e,t)=>Fs(e,t)))}}class qs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Lr(e.mutations.length===n.length);let r=cs;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new qs(e,t,n,r)}}class Ws{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var Qs,Xs;function Js(e){switch(e){default:return Pr();case Vr.CANCELLED:case Vr.UNKNOWN:case Vr.DEADLINE_EXCEEDED:case Vr.RESOURCE_EXHAUSTED:case Vr.INTERNAL:case Vr.UNAVAILABLE:case Vr.UNAUTHENTICATED:return!1;case Vr.INVALID_ARGUMENT:case Vr.NOT_FOUND:case Vr.ALREADY_EXISTS:case Vr.PERMISSION_DENIED:case Vr.FAILED_PRECONDITION:case Vr.ABORTED:case Vr.OUT_OF_RANGE:case Vr.UNIMPLEMENTED:case Vr.DATA_LOSS:return!0}}function Ys(e){if(void 0===e)return _r("GRPC error has no .code"),Vr.UNKNOWN;switch(e){case Qs.OK:return Vr.OK;case Qs.CANCELLED:return Vr.CANCELLED;case Qs.UNKNOWN:return Vr.UNKNOWN;case Qs.DEADLINE_EXCEEDED:return Vr.DEADLINE_EXCEEDED;case Qs.RESOURCE_EXHAUSTED:return Vr.RESOURCE_EXHAUSTED;case Qs.INTERNAL:return Vr.INTERNAL;case Qs.UNAVAILABLE:return Vr.UNAVAILABLE;case Qs.UNAUTHENTICATED:return Vr.UNAUTHENTICATED;case Qs.INVALID_ARGUMENT:return Vr.INVALID_ARGUMENT;case Qs.NOT_FOUND:return Vr.NOT_FOUND;case Qs.ALREADY_EXISTS:return Vr.ALREADY_EXISTS;case Qs.PERMISSION_DENIED:return Vr.PERMISSION_DENIED;case Qs.FAILED_PRECONDITION:return Vr.FAILED_PRECONDITION;case Qs.ABORTED:return Vr.ABORTED;case Qs.OUT_OF_RANGE:return Vr.OUT_OF_RANGE;case Qs.UNIMPLEMENTED:return Vr.UNIMPLEMENTED;case Qs.DATA_LOSS:return Vr.DATA_LOSS;default:return Pr()}}(Xs=Qs||(Qs={}))[Xs.OK=0]="OK",Xs[Xs.CANCELLED=1]="CANCELLED",Xs[Xs.UNKNOWN=2]="UNKNOWN",Xs[Xs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xs[Xs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xs[Xs.NOT_FOUND=5]="NOT_FOUND",Xs[Xs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xs[Xs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xs[Xs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xs[Xs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xs[Xs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xs[Xs.ABORTED=10]="ABORTED",Xs[Xs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xs[Xs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xs[Xs.INTERNAL=13]="INTERNAL",Xs[Xs.UNAVAILABLE=14]="UNAVAILABLE",Xs[Xs.DATA_LOSS=15]="DATA_LOSS";new Tr([4294967295,4294967295],0);Error;class Zs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $s(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function eo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function to(e,t){return $s(e,t.toTimestamp())}function no(e){return Lr(!!e),ei.fromTimestamp(function(e){const t=Gi(e);return new $r(t.seconds,t.nanos)}(e))}function ro(e,t){return io(e,t).canonicalString()}function io(e,t){const n=function(e){return new ni(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ao(e){const t=ni.fromString(e);return Lr(vo(t)),t}function so(e,t){return ro(e.databaseId,t.path)}function oo(e){const t=ao(e);return 4===t.length?ni.emptyPath():co(t)}function lo(e){return new ni(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function co(e){return Lr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uo(e,t,n){return{name:so(e,t),fields:n.value.mapValue.fields}}function ho(e,t){let n;if(t instanceof Vs)n={update:uo(e,t.key,t.value)};else if(t instanceof Gs)n={delete:so(e,t.key)};else if(t instanceof Us)n={update:uo(e,t.key,t.data),updateMask:mo(t.fieldMask)};else{if(!(t instanceof Ks))return Pr();n={verify:so(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Es)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ss)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof As)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Is)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Pr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:to(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pr()}(e,t.precondition)),n}function fo(e){let t=oo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=po(e);return t instanceof wa&&Sa(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ma(go(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ti(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new fa(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new fa(n,t)}(n.endAt)),ja(t,i,s,a,o,"F",l,c)}function po(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=go(e.unaryFilter.field);return ba.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=go(e.unaryFilter.field);return ba.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=go(e.unaryFilter.field);return ba.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=go(e.unaryFilter.field);return ba.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pr()}}(e):void 0!==e.fieldFilter?function(e){return ba.create(go(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wa.create(e.compositeFilter.filters.map((e=>po(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Pr()}}(e.compositeFilter.op))}(e):Pr()}function go(e){return ii.fromServerFormat(e.fieldPath)}function mo(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yo{constructor(e){this.ct=e}}function bo(e){const t=fo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wa(t,t.limit,"L"):t}class wo{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ki(e.integerValue));else if("doubleValue"in e){const n=Ki(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Ii(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Gi(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Hi(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?ca(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Pr()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),ai.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}wo.bt=new wo;class Eo{constructor(){this._n=new So}addToCollectionParentIndex(e,t){return this._n.add(t),pi.resolve()}getCollectionParents(e,t){return pi.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return pi.resolve()}deleteFieldIndex(e,t){return pi.resolve()}deleteAllFieldIndexes(e){return pi.resolve()}createTargetIndexes(e,t){return pi.resolve()}getDocumentsMatchingTarget(e,t){return pi.resolve(null)}getIndexType(e,t){return pi.resolve(0)}getFieldIndexes(e,t){return pi.resolve([])}getNextCollectionGroupToUpdate(e){return pi.resolve(null)}getMinOffset(e,t){return pi.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return pi.resolve(ci.min())}updateCollectionGroup(e,t,n){return pi.resolve()}updateIndexEntries(e,t){return pi.resolve()}}class So{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fi(ni.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Fi(ni.comparator)).toArray()}}new Uint8Array(0);class Co{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(41943040,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);class Ao{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ao(0)}static Ln(){return new Ao(-1)}}class To{constructor(){this.changes=new es((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,da.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Io{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ko{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ps(n.mutation,e,Ui.empty(),$r.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,hs()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hs();const r=ss();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=is();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ss();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,hs())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ns();const a=ls(),s=ls();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Us)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Ps(s.mutation,t,s.mutation.getFieldMask(),$r.now())):a.set(t.key,Ui.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Io(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=ls();let r=new Ri(((e,t)=>e-t)),i=hs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Ui.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||hs()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=os();l.forEach((e=>{if(!i.has(e)){const r=Ms(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return pi.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ai.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ga(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):pi.resolve(ss());let s=-1,o=i;return a.next((t=>pi.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?pi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,hs()))).next((e=>({batchId:s,changes:as(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ai(t)).next((e=>{let t=is();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=is();return this.indexManager.getCollectionParents(e,i).next((s=>pi.forEach(s,(s=>{const o=function(e,t){return new Ua(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,da.newInvalidDocument(r)))}));let n=is();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Ps(a.mutation,r,Ui.empty(),$r.now()),Ya(t,r)&&(n=n.insert(e,r))})),n}))}}class No{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return pi.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:no(e.createTime)}}(t)),pi.resolve()}getNamedQuery(e,t){return pi.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:bo(e.bundledQuery),readTime:no(e.readTime)}}(t)),pi.resolve()}}class Do{constructor(){this.overlays=new Ri(ai.comparator),this.hr=new Map}getOverlay(e,t){return pi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ss();return pi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),pi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),pi.resolve()}getOverlaysForCollection(e,t,n){const r=ss(),i=t.length+1,a=new ai(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ri(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ss(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ss(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return pi.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ws(t,n));let i=this.hr.get(t);void 0===i&&(i=hs(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class xo{constructor(){this.Pr=new Fi(Oo.Ir),this.Tr=new Fi(Oo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Oo(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Oo(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new ai(new ni([])),n=new Oo(t,e),r=new Oo(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ai(new ni([])),n=new Oo(t,e),r=new Oo(t,e+1);let i=hs();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Oo(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Oo{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ai.comparator(e.key,t.key)||Yr(e.pr,t.pr)}static Er(e,t){return Yr(e.pr,t.pr)||ai.comparator(e.key,t.key)}}class _o{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Fi(Oo.Ir)}checkEmpty(e){return pi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Hs(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.wr=this.wr.add(new Oo(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return pi.resolve(a)}lookupMutationBatch(e,t){return pi.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return pi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pi.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return pi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Oo(t,0),r=new Oo(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),pi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fi(Yr);return t.forEach((e=>{const t=new Oo(e,0),r=new Oo(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),pi.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ai.isDocumentKey(i)||(i=i.child(""));const a=new Oo(new ai(i),0);let s=new Fi(Yr);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),a),pi.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Lr(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return pi.forEach(t.mutations,(r=>{const i=new Oo(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Oo(t,0),r=this.wr.firstAfterOrEqual(n);return pi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pi.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mo{constructor(e){this.vr=e,this.docs=new Ri(ai.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pi.resolve(n?n.document.mutableCopy():da.newInvalidDocument(t))}getEntries(e,t){let n=ns();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():da.newInvalidDocument(e))})),pi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ns();const a=t.path,s=new ai(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||ui(li(s),n)<=0||(r.has(s.key)||Ya(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return pi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Pr()}Fr(e,t){return pi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ro(this)}getSize(e){return pi.resolve(this.size)}}class Ro extends To{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),pi.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Po{constructor(e){this.persistence=e,this.Mr=new es((e=>Fa(e)),Va),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xo,this.targetCount=0,this.Lr=Ao.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),pi.resolve()}getLastRemoteSnapshotVersion(e){return pi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pi.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),pi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),pi.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,pi.resolve()}updateTargetData(e,t){return this.qn(t),pi.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,pi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),pi.waitFor(i).next((()=>r))}getTargetCount(e){return pi.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return pi.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),pi.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),pi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),pi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return pi.resolve(n)}containsKey(e,t){return pi.resolve(this.Nr.containsKey(t))}}class Lo{constructor(e,t){this.Br={},this.overlays={},this.kr=new Ai(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Po(this),this.indexManager=new Eo,this.remoteDocumentCache=function(e){return new Mo(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new yo(t),this.$r=new No(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Do,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new _o(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Or("MemoryPersistence","Starting transaction:",e);const r=new Fo(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return pi.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Fo extends di{constructor(e){super(),this.currentSequenceNumber=e}}class Vo{constructor(e){this.persistence=e,this.zr=new xo,this.jr=null}static Hr(e){return new Vo(e)}get Jr(){if(this.jr)return this.jr;throw Pr()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),pi.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),pi.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),pi.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pi.forEach(this.Jr,(n=>{const r=ai.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,ei.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return pi.or([()=>pi.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Uo{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=hs(),r=hs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Uo(e,t.fromCache,n,r)}}class jo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bo{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,o.nr)()?8:mi.v((0,o.ZQ)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new jo;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(xr()<=s.$b.DEBUG&&Or("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),pi.resolve()):(xr()<=s.$b.DEBUG&&Or("QueryEngine","Query:",Ja(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(xr()<=s.$b.DEBUG&&Or("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ha(t))):pi.resolve())}ji(e,t){if(za(t))return pi.resolve(null);let n=Ha(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Wa(t,null,"F"),n=Ha(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=hs(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.Zi(t,r);return this.Xi(t,a,i,n.readTime)?this.ji(e,Wa(t,null,"F")):this.es(e,a,t,n)}))))})))))}Hi(e,t,n,r){return za(t)||r.isEqual(ei.min())?pi.resolve(null):this.zi.getDocuments(e,n).next((i=>{const a=this.Zi(t,i);return this.Xi(t,a,n,r)?pi.resolve(null):(xr()<=s.$b.DEBUG&&Or("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ja(t)),this.es(e,a,t,oi(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Fi(Za(e));return t.forEach(((t,r)=>{Ya(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return xr()<=s.$b.DEBUG&&Or("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.zi.getDocumentsMatchingQuery(e,t,ci.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class zo{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Ri(Yr),this.rs=new es((e=>Fa(e)),Va),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ko(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Go(e,t,n,r){return new zo(e,t,n,r)}async function Ko(e,t){const n=Fr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=hs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Ho(e){const t=Fr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function qo(e,t){const n=Fr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}class Wo{constructor(){this.activeTargetIds=fs()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qo{constructor(){this.no=new Wo,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xo{io(e){}shutdown(){}}class Jo{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Or("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Or("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yo=null;function Zo(){return null===Yo?Yo=268435456+Math.round(2147483648*Math.random()):Yo++,"0x"+Yo.toString(16)}const $o={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class el{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const tl="WebChannelConnection";class nl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const a=Zo(),s=this.bo(e,t.toUriEncodedString());Or("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,s,o,n).then((t=>(Or("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw Mr("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=$o[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Zo();return new Promise(((a,s)=>{const o=new Ar;o.setWithCredentials(!0),o.listenOnce(wr.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case br.NO_ERROR:const t=o.getResponseJson();Or(tl,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case br.TIMEOUT:Or(tl,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Ur(Vr.DEADLINE_EXCEEDED,"Request time out"));break;case br.HTTP_ERROR:const n=o.getStatus();if(Or(tl,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vr).indexOf(t)>=0?t:Vr.UNKNOWN}(t.status);s(new Ur(e,t.message))}else s(new Ur(Vr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ur(Vr.UNAVAILABLE,"Connection failed."));break;default:Pr()}}finally{Or(tl,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Or(tl,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Zo(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vr(),s=yr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Or(tl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);let h=!1,d=!1;const f=new el({lo:t=>{d?Or(tl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Or(tl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Or(tl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Cr.EventType.OPEN,(()=>{d||Or(tl,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Cr.EventType.CLOSE,(()=>{d||(d=!0,Or(tl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Cr.EventType.ERROR,(t=>{d||(d=!0,Mr(tl,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Ur(Vr.UNAVAILABLE,"The operation could not be completed")))})),p(u,Cr.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Lr(!!i);const a=i,s=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Or(tl,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Qs[e];if(void 0!==t)return Ys(t)}(t),i=s.message;void 0===n&&(n=Vr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new Ur(n,i)),u.close()}else Or(tl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,Er.STAT_EVENT,(t=>{t.stat===Sr.PROXY?Or(tl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Sr.NOPROXY&&Or(tl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function rl(){return"undefined"!=typeof document?document:null}function il(e){return new Zs(e,!0)}class al{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Or("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class sl{constructor(e,t,n,r,i,a,s,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new al(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Vr.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Vr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Ur(Vr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Or("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Or("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ol extends sl{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Lr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Lr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?no(e.updateTime):no(t);return n.isEqual(ei.min())&&(n=no(t)),new Ds(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=no(e.commitTime);return this.listener.T_(n,t)}return Lr(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=lo(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ho(this.serializer,e)))};this.t_(t)}}class ll extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ur(Vr.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.So(e,io(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ur(Vr.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.vo(e,io(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Vr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ur(Vr.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class cl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(_r(t),this.g_=!1):Or("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class ul{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{fl(this)&&(Or("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Fr(e);t.v_.add(4),await dl(t),t.x_.set("Unknown"),t.v_.delete(4),await hl(t)}(this))}))})),this.x_=new cl(n,r)}}async function hl(e){if(fl(e))for(const t of e.F_)await t(!0)}async function dl(e){for(const t of e.F_)await t(!1)}function fl(e){return 0===Fr(e).v_.size}async function pl(e,t,n){if(!bi(t))throw t;e.v_.add(1),await dl(e),e.x_.set("Offline"),n||(n=()=>Ho(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Or("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await hl(e)}))}function gl(e,t){return t().catch((n=>pl(e,n,t)))}async function ml(e){const t=Fr(e),n=kl(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;vl(t);)try{const e=await qo(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,yl(t,e)}catch(e){await pl(t,e)}bl(t)&&wl(t)}function vl(e){return fl(e)&&e.D_.length<10}function yl(e,t){e.D_.push(t);const n=kl(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function bl(e){return fl(e)&&!kl(e).Ho()&&e.D_.length>0}function wl(e){kl(e).start()}async function El(e){kl(e).d_()}async function Sl(e){const t=kl(e);for(const n of e.D_)t.I_(n.mutations)}async function Cl(e,t,n){const r=e.D_.shift(),i=qs.from(r,t,n);await gl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ml(e)}async function Al(e,t){t&&kl(e).P_&&await async function(e,t){if(function(e){return Js(e)&&e!==Vr.ABORTED}(t.code)){const n=e.D_.shift();kl(e).Zo(),await gl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ml(e)}}(e,t),bl(e)&&wl(e)}async function Tl(e,t){const n=Fr(e);n.asyncQueue.verifyOperationInProgress(),Or("RemoteStore","RemoteStore received new credentials");const r=fl(n);n.v_.add(3),await dl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await hl(n)}async function Il(e,t){const n=Fr(e);t?(n.v_.delete(2),await hl(n)):t||(n.v_.add(2),await dl(n),n.x_.set("Unknown"))}function kl(e){return e.L_||(e.L_=function(e,t,n){const r=Fr(e);return r.R_(),new ol(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:El.bind(null,e),To:Al.bind(null,e),E_:Sl.bind(null,e),T_:Cl.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await ml(e)):(await e.L_.stop(),e.D_.length>0&&(Or("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class Nl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Nl(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ur(Vr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dl(e,t){if(_r("AsyncQueue","".concat(t,": ").concat(e)),bi(e))return new Ur(Vr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class xl{constructor(){this.queries=new es((e=>Xa(e)),Qa),this.onlineState="Unknown",this.W_=new Set}}function Ol(e){e.W_.forEach((e=>{e.next()}))}var _l,Ml;(Ml=_l||(_l={})).j_="default",Ml.Cache="cache";class Rl{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new es((e=>Xa(e)),Qa),this.Sa=new Map,this.ba=new Set,this.Da=new Ri(ai.comparator),this.Ca=new Map,this.va=new xo,this.Fa={},this.Ma=new Map,this.xa=Ao.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function Pl(e,t,n){const r=Fr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Fr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&Ol(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ll(e,t){const n=Fr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=pi.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);Lr(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ul(n,r,null),Vl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,e)}catch(e){await fi(e)}}async function Fl(e,t,n){const r=Fr(e);try{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Lr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ul(r,t,n),Vl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jl(r,e)}catch(n){await fi(n)}}function Vl(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function Ul(e,t,n){const r=Fr(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}async function jl(e,t,n){const r=Fr(e),i=[],a=[],s=[];r.wa.isEmpty()||(r.wa.forEach(((e,o)=>{s.push(r.Na(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Uo.Ki(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.ya.u_(i),await async function(e,t){const n=Fr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>pi.forEach(t,(t=>pi.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>pi.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!bi(e))throw e;Or("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,a))}async function Bl(e,t){const n=Fr(e);if(!n.currentUser.isEqual(t)){Or("SyncEngine","User change. New user:",t.toKey());const e=await Ko(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Ur(Vr.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jl(n,e.us)}}function zl(e){const t=Fr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ll.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fl.bind(null,t),t}class Gl{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=il(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Go(this.persistence,new Bo,e.initialUser,this.serializer)}createPersistence(e){return new Lo(Vo.Hr,this.serializer)}createSharedClientState(e){return new Qo}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Kl{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Pl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bl.bind(null,this.syncEngine),await Il(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xl}createDatastore(e){const t=il(e.databaseInfo.databaseId),n=function(e){return new nl(e)}(e.databaseInfo);return function(e,t,n,r){return new ll(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ul(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Pl(this.syncEngine,e,0)),Jo.D()?new Jo:new Xo)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Rl(e,t,n,r,i,a);return s&&(o.Oa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Fr(e);Or("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await dl(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Hl{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=Jr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Or("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Or("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ur(Vr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Dl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ql(e,t){e.asyncQueue.verifyOperationInProgress(),Or("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ko(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Wl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xl(e);Or("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Tl(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Tl(t.remoteStore,n))),e._onlineComponents=t}function Ql(e){return"FirebaseError"===e.name?e.code===Vr.FAILED_PRECONDITION||e.code===Vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Xl(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Or("FirestoreClient","Using user provided OfflineComponentProvider");try{await ql(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Ql(n))throw n;Mr("Error using user provided cache. Falling back to memory cache: "+n),await ql(e,new Gl)}}else Or("FirestoreClient","Using default OfflineComponentProvider"),await ql(e,new Gl);return e._offlineComponents}async function Jl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Or("FirestoreClient","Using user provided OnlineComponentProvider"),await Wl(e,e._uninitializedComponentsProvider._online)):(Or("FirestoreClient","Using default OnlineComponentProvider"),await Wl(e,new Kl))),e._onlineComponents}function Yl(e){return Jl(e).then((e=>e.syncEngine))}function Zl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $l=new Map;function ec(e,t,n){if(!n)throw new Ur(Vr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tc(e){if(!ai.isDocumentKey(e))throw new Ur(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function nc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Pr()}function rc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ur(Vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nc(e);throw new Ur(Vr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class ic{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ur(Vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ur(Vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ur(Vr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ur(Vr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ur(Vr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ur(Vr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ac{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ic({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ur(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ur(Vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ic(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zr;switch(e.type){case"firstParty":return new qr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ur(Vr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$l.get(e);t&&(Or("ComponentProvider","Removing Datastore"),$l.delete(e),t.terminate())}(this),Promise.resolve()}}class sc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sc(this.firestore,e,this._query)}}class oc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oc(this.firestore,e,this._key)}}class lc extends sc{constructor(e,t,n){super(e,t,Ba(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oc(this.firestore,null,new ai(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function cc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,o.Ku)(e),1===arguments.length&&(t=Jr.newId()),ec("doc","path",t),e instanceof ac){const n=ni.fromString(t,...r);return tc(n),new oc(e,null,new ai(n))}{if(!(e instanceof oc||e instanceof lc))throw new Ur(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ni.fromString(t,...r));return tc(n),new oc(e.firestore,e instanceof lc?e.converter:null,new ai(n))}}class uc{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new al(this,"async_queue_retry"),this.cu=()=>{const e=rl();e&&Or("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=rl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=rl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new jr;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!bi(e))throw e;Or("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _r("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=Nl.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Pr()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}class hc extends ac{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uc,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pc(this),this._firestoreClient.terminate()}}function dc(e,t){const n="object"==typeof e?e:(0,i.Sx)(),r="string"==typeof e?e:t||"(default)",a=(0,i.j6)(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(0,o.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=rc(e,ac))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==s&&Mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kr.MOCK_USER;else{t=(0,o.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Ur(Vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kr(a)}e._authCredentials=new Gr(new Br(t,n))}}(a,...e)}return a}function fc(e){return e._firestoreClient||pc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pc(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Xi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Zl(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Hl(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Bi.fromBase64String(e))}catch(e){throw new Ur(Vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gc(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ur(Vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vc{constructor(e){this._methodName=e}}class yc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ur(Vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ur(Vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yr(this._lat,e._lat)||Yr(this._long,e._long)}}const bc=/^__.*__$/;class wc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vs(e,this.data,t,this.fieldTransforms)}}function Ec(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pr()}}class Sc{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Sc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Mc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Ec(this.Vu)&&bc.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Cc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||il(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sc({Vu:e,methodName:t,Du:n,path:ii.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ac(e){const t=e._freezeSettings(),n=il(e._databaseId);return new Cc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tc(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cu(a.merge||a.mergeFields?2:0,t,n,i);Dc("Data must be an object, but it was:",s,r);const o=kc(r,s);let l,c;if(a.merge)l=new Ui(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=xc(t,r,n);if(!s.contains(i))throw new Ur(Vr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Rc(e,i)||e.push(i)}l=new Ui(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new wc(new ua(o),l,c)}function Ic(e,t){if(Nc(e=(0,o.Ku)(e)))return Dc("Unsupported field value:",t,e),kc(e,t);if(e instanceof vc)return function(e,t){if(!Ec(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ic(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,o.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ms(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$r.fromDate(e);return{timestampValue:$s(t.serializer,n)}}if(e instanceof $r){const n=new $r(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$s(t.serializer,n)}}if(e instanceof yc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gc)return{bytesValue:eo(t.serializer,e._byteString)};if(e instanceof oc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ro(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(nc(e)))}(e,t)}function kc(e,t){const n={};return Mi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_i(e,((e,r)=>{const i=Ic(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Nc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $r||e instanceof yc||e instanceof gc||e instanceof oc||e instanceof vc)}function Dc(e,t,n){if(!Nc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=nc(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function xc(e,t,n){if((t=(0,o.Ku)(t))instanceof mc)return t._internalPath;if("string"==typeof t)return _c(e,t);throw Mc("Field path arguments must be of type string or ",e,!1,void 0,n)}const Oc=new RegExp("[~\\*/\\[\\]]");function _c(e,t,n){if(t.search(Oc)>=0)throw Mc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new mc(...t.split("."))._internalPath}catch(w){throw Mc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mc(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Ur(Vr.INVALID_ARGUMENT,o+e+l)}function Rc(e,t){return e.some((e=>e.isEqual(t)))}function Pc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function Lc(e,t,n){e=rc(e,oc);const r=rc(e.firestore,hc),i=Pc(e.converter,t,n);return Fc(r,[Tc(Ac(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xs.none())])}function Fc(e,t){return function(e,t){const n=new jr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zl(e);try{const e=await function(e,t){const n=Fr(e),r=$r.now(),i=t.reduce(((e,t)=>e.add(t.key)),hs());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=ns(),l=hs();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=Ls(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Us(e.key,t,ha(t.value.mapValue),xs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:as(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Ri(Yr)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await jl(r,e.changes),await ml(r.remoteStore)}catch(e){const t=Dl(e,"Failed to persist write");n.reject(t)}}(await Yl(e),t,n))),n.promise}(fc(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nr=e}(i.MF),(0,i.om)(new a.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new hc(new Kr(e.getProvider("auth-internal")),new Qr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ur(Vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ji(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(Ir,"4.6.0",e),(0,i.KO)(Ir,"4.6.0","esm2017")}()},8036:e=>{"use strict";e.exports=JSON.parse('[{"value":"AF","label":"\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646"},{"value":"AX","label":"\xc5land"},{"value":"AL","label":"Shqip\xebria"},{"value":"DZ","label":"\u0627\u0644\u062c\u0632\u0627\u0626\u0631"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"\xd6sterreich"},{"value":"AZ","label":"Az\u0259rbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"\u200f\u0627\u0644\u0628\u062d\u0631\u064a\u0646"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"\u0411\u0435\u043b\u0430\u0440\u0443\u0301\u0441\u044c"},{"value":"BE","label":"Belgi\xeb"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"B\xe9nin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"\u02bcbrug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet\xf8ya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":"\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"K\xe2mp\u016dch\xe9a"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"K\xf6d\xf6r\xf6s\xease t\xee B\xeaafr\xeeka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"\u4e2d\u56fd"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"R\xe9publique du Congo"},{"value":"CD","label":"R\xe9publique d\xe9mocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"C\xf4te d\'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Cura\xe7ao"},{"value":"CY","label":"\u039a\u03cd\u03c0\u03c1\u03bf\u03c2"},{"value":"CZ","label":"\u010cesk\xe1 republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Rep\xfablica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"\u0645\u0635\u0631\u200e"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":"\u12a4\u122d\u1275\u122b"},{"value":"EE","label":"Eesti"},{"value":"ET","label":"\u12a2\u1275\u12ee\u1335\u12eb"},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"F\xf8royar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane fran\xe7aise"},{"value":"PF","label":"Polyn\xe9sie fran\xe7aise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd"},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"\u0395\u03bb\u03bb\u03ac\u03b4\u03b1"},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guin\xe9e"},{"value":"GW","label":"Guin\xe9-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Ha\xefti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"\u9999\u6e2f"},{"value":"HU","label":"Magyarorsz\xe1g"},{"value":"IS","label":"\xcdsland"},{"value":"IN","label":"\u092d\u093e\u0930\u0924"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"\u0627\u06cc\u0631\u0627\u0646"},{"value":"IQ","label":"\u0627\u0644\u0639\u0631\u0627\u0642"},{"value":"IE","label":"\xc9ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"\u05d9\u05b4\u05e9\u05b0\u05c2\u05e8\u05b8\u05d0\u05b5\u05dc"},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"\u65e5\u672c"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"\u0627\u0644\u0623\u0631\u062f\u0646"},{"value":"KZ","label":"\u049a\u0430\u0437\u0430\u049b\u0441\u0442\u0430\u043d"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"\ubd81\ud55c"},{"value":"KR","label":"\ub300\ud55c\ubbfc\uad6d"},{"value":"KW","label":"\u0627\u0644\u0643\u0648\u064a\u062a"},{"value":"KG","label":"\u041a\u044b\u0440\u0433\u044b\u0437\u0441\u0442\u0430\u043d"},{"value":"LA","label":"\u0eaa\u0e9b\u0e9b\u0ea5\u0eb2\u0ea7"},{"value":"LV","label":"Latvija"},{"value":"LB","label":"\u0644\u0628\u0646\u0627\u0646"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"\u200f\u0644\u064a\u0628\u064a\u0627"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"\u6fb3\u9580"},{"value":"MK","label":"\u0421\u0435\u0432\u0435\u0440\u043d\u0430 \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430"},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"M\u0327aje\u013c"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627"},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"M\xe9xico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"\u041c\u043e\u043d\u0433\u043e\u043b \u0443\u043b\u0441"},{"value":"ME","label":"\u0426\u0440\u043d\u0430 \u0413\u043e\u0440\u0430"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"\u0627\u0644\u0645\u063a\u0631\u0628"},{"value":"MZ","label":"Mo\xe7ambique"},{"value":"MM","label":"\u1019\u103c\u1014\u103a\u1019\u102c"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"\u0928\u092a\u0932"},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Cal\xe9donie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu\u0113"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":"\u0639\u0645\u0627\u0646"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"\u0641\u0644\u0633\u0637\u064a\u0646"},{"value":"PA","label":"Panam\xe1"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per\xfa"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"\u0642\u0637\u0631"},{"value":"RE","label":"La R\xe9union"},{"value":"RO","label":"Rom\xe2nia"},{"value":"RU","label":"\u0420\u043e\u0441\u0441\u0438\u044f"},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barth\xe9lemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"S\xe3o Tom\xe9 e Pr\xedncipe"},{"value":"SA","label":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629"},{"value":"SN","label":"S\xe9n\xe9gal"},{"value":"RS","label":"\u0421\u0440\u0431\u0438\u0458\u0430"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espa\xf1a"},{"value":"LK","label":"\u015br\u012b la\u1e43k\u0101va"},{"value":"SD","label":"\u0627\u0644\u0633\u0648\u062f\u0627\u0646"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":"\u0633\u0648\u0631\u064a\u0627"},{"value":"TW","label":"\u81fa\u7063"},{"value":"TJ","label":"\u0422\u043e\u04b7\u0438\u043a\u0438\u0441\u0442\u043e\u043d"},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":"\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"\u062a\u0648\u0646\u0633"},{"value":"TR","label":"T\xfcrkiye"},{"value":"TM","label":"T\xfcrkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"\u0423\u043a\u0440\u0430\u0457\u043d\u0430"},{"value":"AE","label":"\u062f\u0648\u0644\u0629 \u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629"},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"O\u2018zbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vi\u1ec7t Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":"\u0627\u0644\u0635\u062d\u0631\u0627\u0621 \u0627\u0644\u063a\u0631\u0628\u064a\u0629"},{"value":"YE","label":"\u0627\u0644\u064a\u064e\u0645\u064e\u0646"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]')},8920:e=>{"use strict";e.exports=JSON.parse('[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"\xc5land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Cura\xe7ao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"C\xf4te d\'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People\'s Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People\'s Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"R\xe9union"},{"value":"BL","label":"Saint Barth\xe9lemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]')}}]);
//# sourceMappingURL=375.b09ad456.chunk.js.map